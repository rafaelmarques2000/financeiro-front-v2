(function(){var a={9698:function(a,t,e){"use strict";var o=e(9242),n=e(3396);function i(a,t){const e=(0,n.up)("router-view");return(0,n.wg)(),(0,n.j4)(e)}var l=e(89);const s={},r=(0,l.Z)(s,[["render",i]]);var c=r,d=e(5431);(0,d.z)("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(a){console.error("Error during service worker registration:",a)}});e(7658);var u=e(2483);const p=a=>((0,n.dD)("data-v-72fe1a2c"),a=a(),(0,n.Cn)(),a),g={id:"login-view"},m={class:"container w-100 d-flex justify-content-center align-items-center"},v={class:"row"},_={class:"col-md-12"},w={class:"card px-5 py-5 login-card-custom"},b=p((()=>(0,n._)("div",{class:"col-md-12 justify-content-center"},[(0,n._)("h1",{class:"login-title"},[(0,n.Uk)("Graninha 4.0 "),(0,n._)("br"),(0,n._)("span",{class:"login-subtitle"},"Seja bem vindo, insira suas credencias para começar")])],-1))),h={class:"mb-4"},f={class:"mb-4"},y=p((()=>(0,n._)("div",{class:"mb-3"},[(0,n._)("button",{type:"submit",class:"btn btn-dark w-100 login-btn"},"Entrar")],-1))),C=p((()=>(0,n._)("div",{class:"login-footer d-flex justify-content-center"},[(0,n._)("p",null,"Graninha 4.0 - Todos os direitos reservados 2023")],-1)));function k(a,t,e,i,l,s){const r=(0,n.up)("alert"),c=(0,n.up)("loading");return(0,n.wg)(),(0,n.iD)("div",g,[(0,n._)("div",m,[(0,n._)("div",v,[(0,n._)("div",_,[(0,n._)("div",w,[b,i.data.alert.show?((0,n.wg)(),(0,n.j4)(r,{key:0,message:i.data.alert.message,"alert-type":"danger"},null,8,["message"])):(0,n.kq)("",!0),i.data.showLoading?((0,n.wg)(),(0,n.j4)(c,{key:1,message:"processando aguarde..."})):(0,n.kq)("",!0),(0,n._)("form",{onSubmit:t[2]||(t[2]=(0,o.iM)(((...a)=>i.formSubmit&&i.formSubmit(...a)),["prevent"]))},[(0,n._)("div",h,[(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=a=>i.data.username=a),placeholder:"Digite seu usuário",class:"form-control login-input"},null,512),[[o.nr,i.data.username]])]),(0,n._)("div",f,[(0,n.wy)((0,n._)("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=a=>i.data.password=a),placeholder:"Digite sua senha",class:"form-control login-input"},null,512),[[o.nr,i.data.password]])]),y],32)]),C])])])])}var D=e(4870),P=e(7139);function x(a,t,e,o,i,l){return(0,n.wg)(),(0,n.iD)("div",{class:(0,P.C_)("alert alert-"+a.$props.alertType)},(0,P.zw)(a.$props.message),3)}var M={name:"alert",props:{alertType:{type:String,required:!0},message:{type:String,required:!0}}};const $=(0,l.Z)(M,[["render",x],["__scopeId","data-v-5f0555b0"]]);var A=$;const S=(a,t)=>{window.setTimeout(a,t)};var F=e(4161),V=e(65),z=e(5103),T=e(8082),I=e.n(T),N=e(680);const L="state",R="state",W=N.Z.get(L)||"dcefb8d7-17dd-45cd-8123-91e92b7fc52c",B=new z.ZP({storage:{getItem:()=>{const a=window.localStorage.getItem(R);if(a)try{const t=I().AES.decrypt(a,W);return JSON.parse(t.toString(I().enc.Utf8))}catch(t){window.localStorage.removeItem(R)}return null},setItem:(a,t)=>{const e=I().AES.encrypt(t,W).toString();return window.localStorage.setItem(R,e)},removeItem:()=>window.localStorage.removeItem(R)}});var j=(0,V.MT)({state:{isAuth:!1,userData:{},showWelcomeTitle:!1},getters:{isAuth(a){return a.isAuth},userData(a){return a.userData},isWelcomeTitle(a){return a.showWelcomeTitle}},mutations:{enableAuth(a){a.isAuth=!0},disabledAuth(a){a.isAuth=!1},setUserData(a,t){a.userData=t},clearState(a){a.isAuth=!1,a.userData={}},showWelcomeTitle(a){a.showWelcomeTitle=!0},hiddenWelcomeTitle(a){a.showWelcomeTitle=!1}},plugins:[B.plugin]});let U={baseURL:"https://api.globalapps.xyz/api/v1",headers:{}};j.getters.isAuth&&(U.headers={Authorization:`bearer ${j.getters.userData.token}`});var q=F.Z.create(U);const E=async a=>await q.post("/auth",{username:a.username,password:a.password}),O=a=>q.post("/check-token",{token:a});var Y=e(2492),H=e.n(Y);const G=(a,t)=>{H().fire({title:a,text:t,icon:"error",confirmButtonText:"Ok"})},Z=(a,t)=>H().fire({title:a,allowEscapeKey:!1,allowOutsideClick:!1,text:t,icon:"success",confirmButtonText:"Ok"}),K=(a,t,e)=>{H().fire({title:a,text:t,icon:"question",showConfirmButton:!0,confirmButtonText:"Sim",showCancelButton:!0,cancelButtonText:"Não"}).then((a=>{a.isConfirmed&&e()}))},Q=(a,t)=>""===a.username?(a.alert.show=!0,a.alert.message="Preencha o campo usuário",void S((()=>a.alert.show=!1),3e3)):""===a.password?(a.alert.show=!0,a.alert.message="Preencha o campo senha",void S((()=>a.alert.show=!1),3e3)):(a.showLoading=!0,void E(a).then((e=>{a.showLoading=!1,j.commit("enableAuth"),j.commit("setUserData",e.data),t.push({name:"app"})})).catch((a=>{try{G("Atencão",a.message)}catch(t){G("Atencão",t.message)}})));var J=e.p+"img/loading.4f4a0956.gif";const X=a=>((0,n.dD)("data-v-4fb3b1c4"),a=a(),(0,n.Cn)(),a),aa={class:"loading-overlay align-items-center justify-content-center"},ta=X((()=>(0,n._)("img",{src:J,alt:"loading",class:"loading-icon"},null,-1))),ea={class:"loading-message"};function oa(a,t,e,o,i,l){return(0,n.wg)(),(0,n.iD)("div",aa,[ta,(0,n._)("span",ea,(0,P.zw)(a.$props.message),1)])}var na={name:"loading",props:{message:{type:String,required:!1}}};const ia=(0,l.Z)(na,[["render",oa],["__scopeId","data-v-4fb3b1c4"]]);var la=ia,sa={components:{Loading:la,Alert:A},setup(){let a=(0,D.qj)({username:"",password:"",showLoading:!1,alert:{show:!1,message:""}}),t=(0,u.tv)(),e=()=>{Q(a,t)};return{data:a,formSubmit:e}}};const ra=(0,l.Z)(sa,[["render",k],["__scopeId","data-v-72fe1a2c"]]);var ca=ra;const da=a=>((0,n.dD)("data-v-d5b0260a"),a=a(),(0,n.Cn)(),a),ua={class:"navbar custom-navbar navbar-expand-lg navbar-light bg-light"},pa={class:"container-fluid"},ga={class:"navbar-brand",href:"#"},ma=da((()=>(0,n._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,n._)("span",{class:"navbar-toggler-icon"})],-1))),va={class:"collapse navbar-collapse",id:"navbarSupportedContent"},_a={class:"navbar-nav me-auto mb-2 mb-lg-0"},wa={class:"nav-item"},ba={class:"nav-item dropdown"},ha={class:"nav-link dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"},fa={class:"dropdown-menu","aria-labelledby":"navbarDropdown"},ya={class:"nav-item"},Ca={class:"container-fluid main-container"};function ka(a,t,e,i,l,s){const r=(0,n.up)("font-awesome-icon"),c=(0,n.up)("router-link"),d=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("nav",ua,[(0,n._)("div",pa,[(0,n._)("a",ga,[(0,n.Wm)(r,{icon:"fa-solid fa-sack-dollar"}),(0,n.Uk)(" Graninha 4.0")]),ma,(0,n._)("div",va,[(0,n._)("ul",_a,[(0,n._)("li",wa,[(0,n.Wm)(c,{to:"/app/modules",class:"nav-link active","aria-current":"page"},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{icon:"fa-solid fa-home"}),(0,n.Uk)(" Inicio")])),_:1})]),(0,n._)("li",ba,[(0,n._)("a",ha,[(0,n.Wm)(r,{icon:"fa-solid fa-list"}),(0,n.Uk)(" Modulos ")]),(0,n._)("ul",fa,[(0,n._)("li",null,[(0,n.Wm)(c,{to:"/app/modules/dashboard",class:"nav-link dropdown-item","aria-current":"page"},{default:(0,n.w5)((()=>[(0,n.Uk)("Dashboard")])),_:1})]),(0,n._)("li",null,[(0,n.Wm)(c,{to:"/app/modules/contas",class:"nav-link dropdown-item","aria-current":"page"},{default:(0,n.w5)((()=>[(0,n.Uk)("Contas")])),_:1})]),(0,n._)("li",null,[(0,n.Wm)(c,{to:"/app/modules/cartoes",class:"nav-link dropdown-item","aria-current":"page"},{default:(0,n.w5)((()=>[(0,n.Uk)("Cartões")])),_:1})]),(0,n._)("li",null,[(0,n.Wm)(c,{to:"/app/modules/caixa",class:"nav-link dropdown-item","aria-current":"page"},{default:(0,n.w5)((()=>[(0,n.Uk)("Caixa")])),_:1})]),(0,n._)("li",null,[(0,n.Wm)(c,{to:"/app/modules/cofrinhos",class:"nav-link dropdown-item","aria-current":"page"},{default:(0,n.w5)((()=>[(0,n.Uk)("Cofrinhos")])),_:1})]),(0,n._)("li",null,[(0,n.Wm)(c,{to:"/app/modules/transaction-history",class:"nav-link dropdown-item","aria-current":"page"},{default:(0,n.w5)((()=>[(0,n.Uk)("Historico Transações")])),_:1})])])]),(0,n._)("li",ya,[(0,n._)("a",{class:"nav-link",onClick:t[0]||(t[0]=(0,o.iM)(((...a)=>i.viewLogout&&i.viewLogout(...a)),["prevent"])),"aria-current":"page",href:"#"},[(0,n.Wm)(r,{icon:"fa-solid fa-right-from-bracket"}),(0,n.Uk)(" Sair")])])])])])]),(0,n._)("div",Ca,[((0,n.wg)(),(0,n.j4)(d,{key:a.$route.params.module}))])],64)}var Da=e(7749),Pa={components:{FontAwesomeIcon:Da.GN},setup(){let a=(0,u.tv)();const t=()=>{K("Confirmação","Deseja deslogar do sistema?",(()=>{j.commit("clearState"),a.push({name:"login"})}))};return{viewLogout:t}}};const xa=(0,l.Z)(Pa,[["render",ka],["__scopeId","data-v-d5b0260a"]]);var Ma=xa;const $a={class:"container-fluid"},Aa={class:"row row-cols-2"},Sa={class:"col-md-2 col-margin"},Fa=["onClick"],Va={class:"card-body flex-column d-flex align-items-center justify-content-center"},za={class:"module-name"};function Ta(a,t,e,o,i,l){const s=(0,n.up)("page-title"),r=(0,n.up)("font-awesome-icon");return(0,n.wg)(),(0,n.iD)("div",$a,[(0,n.Wm)(s,{"page-subtitle":"Escolha um modulo para continuar","page-title":"Seja bem-vindo, Admin"}),(0,n._)("div",Aa,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.moduleList,(a=>((0,n.wg)(),(0,n.iD)("div",Sa,[(0,n._)("div",{class:"card module-card",onClick:t=>o.openModule(a.url,a.standalone)},[(0,n._)("div",Va,[(0,n.Wm)(r,{class:"module-icon",icon:a.icon},null,8,["icon"]),(0,n._)("span",za,(0,P.zw)(a.title),1)])],8,Fa)])))),256))])])}const Ia=a=>((0,n.dD)("data-v-f9ba9132"),a=a(),(0,n.Cn)(),a),Na={class:"page-title"},La=Ia((()=>(0,n._)("br",null,null,-1))),Ra={class:"text-muted page-subtitle"};function Wa(a,t,e,o,i,l){const s=(0,n.up)("font-awesome-icon");return(0,n.wg)(),(0,n.iD)("h3",Na,[(0,n.Wm)(s,{icon:a.$props.icon},null,8,["icon"]),(0,n.Uk)(" "+(0,P.zw)(a.$props.pageTitle),1),La,(0,n._)("small",Ra,(0,P.zw)(a.$props.pageSubtitle),1)])}var Ba={name:"page-title",components:{FontAwesomeIcon:Da.GN},props:{pageTitle:{type:String,required:!0},pageSubtitle:{type:String,required:!0},icon:{type:String,required:!1}}};const ja=(0,l.Z)(Ba,[["render",Wa],["__scopeId","data-v-f9ba9132"]]);var Ua=ja,qa={components:{PageTitle:Ua},setup(){let a=[{title:"Dashboard",icon:"fa-solid fa-chart-line",url:"dashboard_module",standalone:!0},{title:"Contas",icon:"fa-solid fa-receipt",url:"contas",standalone:!1},{title:"Cartões",icon:"fa-solid fa-credit-card",url:"cartoes",standalone:!1},{title:"Caixa",icon:"fa-solid fa-money-bill",url:"caixa",standalone:!1},{title:"Cofrinhos",icon:"fa-solid fa-piggy-bank",url:"goals_module",standalone:!0},{title:"Historico Transações",icon:"fa-solid fa-clock",url:"transaction_history",standalone:!0}],t=(0,u.tv)();const e=(a,e)=>{e?t.push({name:a}):t.push({name:"conta_module",params:{module:a}})};return{moduleList:a,openModule:e}}};const Ea=(0,l.Z)(qa,[["render",Ta],["__scopeId","data-v-d8f72f2c"]]);var Oa=Ea;const Ya=a=>((0,n.dD)("data-v-3ba5a974"),a=a(),(0,n.Cn)(),a),Ha={class:"container-fluid"},Ga={class:"alert alert-primary statistic-container"},Za={class:"row row-cols-2"},Ka={class:"col-md-2 statistic-columns"},Qa=Ya((()=>(0,n._)("h4",{class:"tipo-transacao-label"},"Saldo total",-1))),Ja={class:"page-action"},Xa={class:"show-per-page"},at=(0,n.uE)('<option value="5" data-v-3ba5a974>5</option><option value="10" data-v-3ba5a974>10</option><option value="15" data-v-3ba5a974>15</option><option value="50" data-v-3ba5a974>50</option><option value="100" data-v-3ba5a974>100</option>',5),tt=[at],et={key:1,class:"filter-body"},ot={class:"row row-cols-1"},nt={class:"col-md-6"},it=Ya((()=>(0,n._)("label",{class:"form-label"},"Descrição",-1))),lt={class:"input-group"},st={class:"col-md-4"},rt=Ya((()=>(0,n._)("label",{class:"form-label"},"Data",-1))),ct={class:"calendar-content d-flex"},dt={class:"d-flex"},ut=["value"],pt=Ya((()=>(0,n._)("span",{style:{padding:"10px"}},"até",-1))),gt=["value"],mt={class:"table table-striped page-table table-hover"},vt=Ya((()=>(0,n._)("thead",{class:"page-table-header"},[(0,n._)("tr",null,[(0,n._)("td",null,"Descrição"),(0,n._)("td",null,"Saldo"),(0,n._)("td",null,"Ultima atualização"),(0,n._)("td")])],-1))),_t={class:"page-table-body"},wt=["onClick"],bt=["onClick"],ht=["onClick"],ft={class:"table-actions d-flex"},yt=["onClick"],Ct=["onClick"],kt={class:"row"},Dt={class:"col-12"},Pt={"aria-label":"Page navigation example"},xt={class:"pagination"},Mt={class:"page-item"},$t={class:"page-item"},At={key:0,class:"page-link"},St=["onClick"],Ft={class:"page-item"},Vt={class:"container-fluid"},zt={class:"row"},Tt={class:"col-md-12"},It=Ya((()=>(0,n._)("label",{class:"form-label"},"Descrição",-1)));function Nt(a,t,e,i,l,s){const r=(0,n.up)("page-title"),c=(0,n.up)("loading"),d=(0,n.up)("money-format"),u=(0,n.up)("font-awesome-icon"),p=(0,n.up)("v-date-picker"),g=(0,n.up)("modal");return(0,n.wg)(),(0,n.iD)("div",Ha,[(0,n.Wm)(r,{"page-subtitle":i.data.pageTitle.subtitle,"page-title":i.data.pageTitle.title,icon:i.data.pageTitle.icon},null,8,["page-subtitle","page-title","icon"]),i.data.loading.show?((0,n.wg)(),(0,n.j4)(c,{key:0,message:"Processando aguarde..."})):(0,n.kq)("",!0),(0,n._)("div",Ga,[(0,n._)("div",Za,[(0,n._)("div",Ka,[Qa,(0,n._)("span",null,[(0,n.Wm)(d,{value:i.totalAmountAccounts},null,8,["value"])])])])]),(0,n._)("div",Ja,[(0,n._)("button",{class:"btn btn-primary app-button",onClick:t[0]||(t[0]=(...a)=>i.viewOpenModalForm&&i.viewOpenModalForm(...a)),type:"button"},[(0,n.Wm)(u,{icon:"fa-solid fa-circle-plus"})]),(0,n._)("button",{class:"btn btn-secondary app-button",onClick:t[1]||(t[1]=(...a)=>i.viewOpenCloseFilter&&i.viewOpenCloseFilter(...a)),type:"button"},[(0,n.Wm)(u,{icon:"fa-solid fa-filter"})]),(0,n._)("div",Xa,[(0,n.wy)((0,n._)("select",{class:"form-select show-pages",onChange:t[2]||(t[2]=(...a)=>i.viewChangeLimitPerPage&&i.viewChangeLimitPerPage(...a)),"onUpdate:modelValue":t[3]||(t[3]=a=>i.data.pagination.limit=a)},tt,544),[[o.bM,i.data.pagination.limit]])])]),i.data.filter.open?((0,n.wg)(),(0,n.iD)("div",et,[(0,n._)("div",ot,[(0,n._)("div",nt,[it,(0,n._)("div",lt,[(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=a=>i.data.filter.description=a),class:"form-control"},null,512),[[o.nr,i.data.filter.description]])])]),(0,n._)("div",st,[rt,(0,n._)("div",ct,[(0,n.Wm)(p,{mode:"date",modelValue:i.data.filter.range,"onUpdate:modelValue":t[5]||(t[5]=a=>i.data.filter.range=a),"is-range":""},{default:(0,n.w5)((({inputValue:a,inputEvents:t,isDragging:e})=>[(0,n._)("div",dt,[(0,n._)("input",(0,n.dG)({class:"form-control",value:a.start},(0,n.mx)(t.start,!0)),null,16,ut),pt,(0,n._)("input",(0,n.dG)({disabled:"",style:{"margin-right":"10px"},class:"form-control",value:a.end},(0,n.mx)(t.end,!0)),null,16,gt)])])),_:1},8,["modelValue"]),(0,n._)("button",{type:"button",onClick:t[6]||(t[6]=(...a)=>i.viewSearchFilter&&i.viewSearchFilter(...a)),class:"btn btn-primary app-button"},[(0,n.Wm)(u,{icon:"fa-solid fa-search"})])])])])])):(0,n.kq)("",!0),(0,n._)("table",mt,[vt,(0,n._)("tbody",_t,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.data.accounts,(a=>((0,n.wg)(),(0,n.iD)("tr",null,[(0,n._)("td",{onClick:(0,o.iM)((t=>i.viewEnterTransaction(a.id)),["self"]),"data-title":"Descrição"},(0,P.zw)(a.description),9,wt),(0,n._)("td",{onClick:(0,o.iM)((t=>i.viewEnterTransaction(a.id)),["self"]),"data-title":"Saldo"},[(0,n.Wm)(d,{value:a.amount},null,8,["value"])],8,bt),(0,n._)("td",{onClick:(0,o.iM)((t=>i.viewEnterTransaction(a.id)),["self"]),"data-title":"Ultima atualização"},(0,P.zw)(i.formatDateAndHour(a.updated_at)),9,ht),(0,n._)("td",null,[(0,n._)("div",ft,[(0,n._)("button",{type:"button",onClick:t=>i.viewOpenModalEditForm(a.id,a.description),class:"btn btn-primary app-button"},[(0,n.Wm)(u,{icon:"fa-solid fa-pen-to-square"})],8,yt),(0,n._)("button",{type:"button",onClick:t=>i.viewDeleteAccountConfirmation(a.id,a.description),class:"btn btn-outline-danger"},[(0,n.Wm)(u,{icon:"fa-solid fa-trash"})],8,Ct)])])])))),256))])]),(0,n._)("div",kt,[(0,n._)("div",Dt,[(0,n._)("nav",Pt,[(0,n._)("ul",xt,[(0,n._)("li",Mt,[(0,n._)("a",{onClick:t[7]||(t[7]=(0,o.iM)((a=>i.viewListNavigation("prev")),["prevent"])),class:"page-link",href:"#"},"Anterior")]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.data.pagination.pages,(a=>((0,n.wg)(),(0,n.iD)("li",$t,["..."===a?((0,n.wg)(),(0,n.iD)("span",At,"...")):((0,n.wg)(),(0,n.iD)("a",{key:1,onClick:(0,o.iM)((t=>i.viewChangePageByPageNumber(a)),["prevent"]),class:(0,P.C_)(["page-link",{active:i.data.pagination.current_page===a}]),href:"#"},(0,P.zw)(a),11,St))])))),256)),(0,n._)("li",Ft,[(0,n._)("a",{onClick:t[8]||(t[8]=(0,o.iM)((a=>i.viewListNavigation("next")),["prevent"])),class:"page-link",href:"#"},"Proximo")])])])])]),i.data.modal.show?((0,n.wg)(),(0,n.j4)(g,{key:2,"show-close-button":!0,"show-action-buttons":!0,onCloseModal:i.viewCloseModal,onSaveData:i.viewModalSaveData,title:i.data.modal.title,icon:i.data.modal.icon},{default:(0,n.w5)((()=>[(0,n._)("div",Vt,[(0,n._)("div",zt,[(0,n._)("div",Tt,[It,(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":t[9]||(t[9]=a=>i.data.account.description=a),class:"form-control",placeholder:"Digite uma descrição"},null,512),[[o.nr,i.data.account.description]])])])])])),_:1},8,["onCloseModal","onSaveData","title","icon"])):(0,n.kq)("",!0)])}const Lt=a=>{let t=new Date(a),e=t.getDate()<10?"0"+t.getDate():t.getDate(),o=t.getMonth()<10?"0"+(t.getMonth()+1):t.getMonth()+1,n=t.getFullYear(),i=t.getHours()<10?"0"+t.getHours():t.getHours(),l=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes();return`${e}/${o}/${n} ${i}:${l}`},Rt=a=>{let t=new Date(a),e=t.getDate()<10?"0"+t.getDate():t.getDate(),o=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,n=t.getFullYear();return`${n}-${o}-${e}`},Wt=(a,t)=>{let e=j.getters.userData.user_id,o=t.params.module;a.loading.show=!0;let n=Ht(e,"accounts",a,o);q.get(n).then((t=>{a.loading.show=!1,a.pagination.current_page=t.data.current_page,a.pagination.totalPages=t.data.total_pages,a.pagination.totalRows=t.data.total_rows,a.accounts=t.data.items})).catch((t=>{a.loading.show=!1,G("Atenção","Falha ao obter lista de dados")}))},Bt=(a,t)=>{a.loading.show=!0;let e=j.getters.userData.user_id;q.get(`/users/${e}/accounts/${a.account.id}`).then((t=>{a.loading.show=!1,a.account.id=t.data.id,a.account.description=t.data.description,a.account.account_type_id=t.data.accountType.id})).catch((t=>{a.loading.show=!1,G("Atenção","Falha ao obter dados da conta, tente novamente ou contate o administrador")}))},jt=a=>{let t=j.getters.userData.user_id;return q.get(`/users/${t}/accounts/${a}`)},Ut=(a,t)=>{let e=j.getters.userData.user_id;a.loading.show=!0,q.post(`/users/${e}/accounts`,a.account).then((e=>{a.loading.show=!1,Z("Sucesso!","Conta cadastrada com sucesso").then((e=>{e.isConfirmed&&(Wt(a,t),a.account.description="",a.modal.show=!1)}))})).catch((t=>{a.loading.show=!1,G("Atenção","Falha ao salvar conta, tente novamente ou contate o administrador")}))},qt=(a,t)=>{let e=j.getters.userData.user_id;a.loading.show=!0,q.put(`/users/${e}/accounts/${a.account.id}`,a.account).then((e=>{a.loading.show=!1,Z("sucesso!!","Conta atualizada com sucesso").then((e=>{Wt(a,t),a.modal.show=!1,a.account.description="",a.accounts.id=""}))})).catch((a=>{G("Atenção","Falha ao atualizar conta, tente novamente ou contate o administrador")}))},Et=(a,t)=>{let e=j.getters.userData.user_id;a.loading.show=!0,q.delete(`/users/${e}/accounts/${a.account.id}`).then((e=>{a.loading.show=!1,Z("Sucesso!","Conta deletada com sucesso").then((e=>{e.isConfirmed&&(a.account.id="",Wt(a,t))}))})).catch((a=>{G("Atenção","Falha ao deletar conta, tente novamente ou contate o adminstrador.")}))},Ot=(a,t)=>{let e=j.getters.userData.user_id,o=t.params.module,n=Ht(e,"accounts/statistics",a,o);q.get(n).then((t=>{H().close(),a.statistics=t.data})).catch((a=>{G("Atenção",a.response.data.message)}))},Yt=a=>{let t=j.getters.userData.user_id,e=`/users/${t}/user-accounts`;a.loading.show=!0,q.get(e).then((t=>{a.loading.show=!1,a.accounts=t.data})).catch((a=>{G("Atenção",a.response.data.message)}))};function Ht(a,t,e,o){let n=`/users/${a}/${t}?limit=${e.pagination.limit}&page=${e.pagination.current_page}`;return null!=e.filter.description&&(n=n.concat(`&description=${e.filter.description}`)),"contas"===o&&(n=n.concat("&account_types[]=conta_corrente")),"cartoes"===o&&(n=n.concat("&account_types[]=cartao_credito")),"caixa"===o&&(n=n.concat("&account_types[]=caixa")),n.concat(`&initial_date=${Rt(e.filter.range.start)}&end_date=${Rt(e.filter.range.end)}`)}const Gt=(a,t)=>{let e=t.params.module;"contas"===e&&(a.pageTitle={title:"Contas",subtitle:"Gerencie suas contas",icon:"fa-solid fa-receipt"}),"cartoes"===e&&(a.pageTitle={title:"Cartões",subtitle:"Gerencie seus cartões",icon:"fa-solid fa-credit-card"}),"caixa"===e&&(a.pageTitle={title:"Caixa",subtitle:"Gerencie seu caixa mensal",icon:"fa-solid fa-money-bill"})},Zt=(a,t,e,o)=>{let n=t.params.module;"contas"===n&&(a.modal.title="new"===e?"Nova conta":`Editar - ${o}`,a.modal.icon="new"===e?"fa-solid fa-circle-plus":"fa-solid fa-pen-to-square"),"cartoes"===n&&(a.modal={title:"new"===e?"Novo cartão":`Editar - ${o}`,icon:"new"===e?"fa-solid fa-circle-plus":"fa-solid fa-pen-to-square"}),"caixa"===n&&(a.modal={title:"new"===e?"Novo Caixa":`Editar - ${o}`,icon:"new"===e?"fa-solid fa-circle-plus":"fa-solid fa-pen-to-square"})},Kt=a=>{a.filter.open?a.filter.open=!1:a.filter.open=!0},Qt=a=>{const t=new Date;a.filter.range={start:new Date(t.getFullYear(),t.getMonth(),1),end:new Date(t.getFullYear(),t.getMonth()+1,0)}},Jt=(a,t,e)=>{if("prev"===e&&a.pagination.current_page>1)return a.pagination.current_page-=1,void Wt(a,t);if("next"===e){if(a.pagination.current_page>=a.pagination.totalPages)return;a.pagination.current_page+=1,Wt(a,t)}},Xt=(a,t)=>{null!=a.filter.range?(Ot(a,t),Wt(a,t)):G("Atenção","Preencha o filtro de data com inicio e fim para continuar")};function ae(a,t,e,o,i,l){return(0,n.wg)(),(0,n.iD)("span",{class:"badge rounded-pill text-bg-primary",style:(0,P.j5)(`background:${a.$props.color}!important`)},(0,P.zw)(a.$props.text),5)}var te={name:"badge",props:["color","text"]};const ee=(0,l.Z)(te,[["render",ae]]);var oe=ee;function ne(a,t,e,o,i,l){return(0,n.wg)(),(0,n.iD)("span",{class:(0,P.C_)({positive:o.isPositiveOrNegative,negative:!o.isPositiveOrNegative})},(0,P.zw)(o.formatMoneyBRL(a.$props.value)),3)}const ie=a=>a.toLocaleString("pt-BR",{style:"currency",currency:"BRL"});var le={name:"money-format",props:["value"],setup(a){const t=(0,n.Fl)((()=>a.value>=0));return{isPositiveOrNegative:t,formatMoneyBRL:ie}}};const se=(0,l.Z)(le,[["render",ne],["__scopeId","data-v-6f191cc8"]]);var re=se;const ce=(a,t,e,o)=>{let n,i=[],l=Math.ceil(t/e),s=Math.ceil(o/2);n=a<=s?"start":l-s<a?"end":"middle";let r=o<l,c=1;while(c<=l&&c<=o){let t=de(c,a,o,l),e=2===c&&("middle"===n||"end"===n),s=c===o-1&&("middle"===n||"start"===n);r&&(e||s)?i.push("..."):i.push(t),c++}return i},de=(a,t,e,o)=>{var n=Math.ceil(e/2);return a===e?o:1===a?a:e<o?o-n<t?o-e+a:n<t?t-n+a:a:a},ue=(a,t,e)=>a.slice(e*t,e*t+t),pe={class:"app-modal-backdrop"},ge={class:"app-modal-content container-fluid"},me={class:"app-modal-header"},ve={class:"col-md-12 d-flex w-100"},_e={class:"modal-title w-100"},we={class:"app-modal-body"},be={key:0,class:"app-modal-footer d-flex justify-content-end"};function he(a,t,e,o,i,l){const s=(0,n.up)("font-awesome-icon");return(0,n.wg)(),(0,n.iD)("div",pe,[(0,n._)("div",ge,[(0,n._)("div",me,[(0,n._)("div",ve,[(0,n._)("h3",_e,[(0,n.Wm)(s,{icon:a.$props.icon},null,8,["icon"]),(0,n.Uk)(" "+(0,P.zw)(a.$props.title),1)]),a.$props.showCloseButton?((0,n.wg)(),(0,n.iD)("button",{key:0,style:{margin:"auto",width:"50px"},class:"modal-btn-close",onClick:t[0]||(t[0]=(...a)=>o.viewCancel&&o.viewCancel(...a)),type:"button"},"X")):(0,n.kq)("",!0)])]),(0,n._)("div",we,[(0,n.WI)(a.$slots,"default",{},void 0,!0)]),a.$props.showActionButtons?((0,n.wg)(),(0,n.iD)("div",be,[(0,n._)("button",{type:"button",onClick:t[1]||(t[1]=(...a)=>o.viewCancel&&o.viewCancel(...a)),class:"btn btn-secondary"},"Cancelar"),(0,n._)("button",{type:"button",onClick:t[2]||(t[2]=(...a)=>o.viewSave&&o.viewSave(...a)),class:"btn btn-primary app-button"},"Salvar")])):(0,n.kq)("",!0)])])}var fe={name:"modal",components:{FontAwesomeIcon:Da.GN},props:["title","icon","showActionButtons","showCloseButton"],setup(a,t){const e=()=>{t.emit("close-modal")},o=()=>{t.emit("save-data")};return{viewCancel:e,viewSave:o}}};const ye=(0,l.Z)(fe,[["render",he],["__scopeId","data-v-671c1738"]]);var Ce=ye;const ke=(a,t)=>{let e=t.params.module;q.get("/account-types").then((t=>{let o=t.data.filter((a=>a.slug_name===Pe(e)));a.account.account_type_id=o[0].id})).catch((a=>{G("Atenção","Falha ao obter tipos de contas")}))},De=a=>q.get("/account-types").then((t=>{a.accountTypes=t.data})).catch((a=>{G("Atenção","Falha ao obter lista de tipos de contas")})),Pe=a=>"contas"===a?"conta_corrente":"cartoes"===a?"cartao_credito":"caixa"===a?"caixa":void 0;var xe={components:{Modal:Ce,MoneyFormat:re,Badge:oe,Loading:la,PageTitle:Ua},setup(){let a=(0,u.yj)(),t=(0,u.tv)(),e=(0,D.qj)({modal:{title:"Nova Conta",icon:"",show:!1,operation:"new"},pageTitle:{title:"",subtitle:"",icon:""},filter:{open:!0,description:"",range:""},loading:{show:!1},statistics:{},pagination:{pages:[],limit:15,current_page:1,totalPages:0,totalRows:0},account:{id:"",description:"",account_type_id:""},accounts:null});const o=()=>{Kt(e)},i=()=>{Wt(e,a)},l=t=>{Jt(e,a,t)},s=t=>{e.pagination.current_page=t,Wt(e,a)},r=()=>{Xt(e,a)},c=()=>{Zt(e,a,"new"),e.modal.show=!0,e.modal.operation="new"},d=()=>{e.modal.show=!1,e.account.id="",e.account.description=""},p=()=>{"new"===e.modal.operation?Ut(e,a,t):qt(e,a)},g=(t,o)=>{e.account.id=t,Zt(e,a,"edit",o),Bt(e,a),e.modal.show=!0,e.modal.operation="edit"},m=(t,o)=>{K("Confirmação",`Deseja deletar a conta ${o}?`,(()=>{e.account.id=t,Et(e,a)}))},v=e=>{let o=a.params.module;t.push({name:"transanctions_module",params:{module:o,id:e}})},_=(0,n.Fl)((()=>e.statistics.period_amount/100));return(0,n.YP)((()=>e.accounts),(t=>{e.pagination.current_page>1&&0===t.length&&(e.pagination.current_page-=1,Wt(e,a)),e.pagination.pages=ce(e.pagination.current_page,e.pagination.totalRows,e.pagination.limit,8)})),(0,n.bv)((()=>{Gt(e,a),Qt(e),Wt(e,a),Ot(e,a),ke(e,a)})),{data:e,viewOpenCloseFilter:o,viewChangeLimitPerPage:i,viewListNavigation:l,viewChangePageByPageNumber:s,viewSearchFilter:r,viewCloseModal:d,viewModalSaveData:p,viewOpenModalForm:c,viewDeleteAccountConfirmation:m,viewOpenModalEditForm:g,viewEnterTransaction:v,formatDateAndHour:Lt,totalAmountAccounts:_}}};const Me=(0,l.Z)(xe,[["render",Nt],["__scopeId","data-v-3ba5a974"]]);var $e=Me;const Ae=a=>((0,n.dD)("data-v-a647652c"),a=a(),(0,n.Cn)(),a),Se={class:"container-fluid"},Fe={class:"alert alert-primary statistic-container"},Ve={class:"row row-cols-2"},ze={class:"col-md-2 statistic-columns"},Te={class:"tipo-transacao-label"},Ie={class:"page-action"},Ne={class:"show-per-page"},Le=(0,n.uE)('<option value="5" data-v-a647652c>5</option><option value="10" data-v-a647652c>10</option><option value="15" data-v-a647652c>15</option><option value="50" data-v-a647652c>50</option><option value="100" data-v-a647652c>100</option>',5),Re=[Le],We={key:1,class:"filter-body"},Be={class:"row row-cols-1"},je={class:"col-md-6"},Ue=Ae((()=>(0,n._)("label",{class:"form-label"},"Descrição",-1))),qe={class:"input-group"},Ee={class:"col-md-4"},Oe=Ae((()=>(0,n._)("label",{class:"form-label"},"Data",-1))),Ye={class:"calendar-content d-flex"},He={class:"d-flex"},Ge=["value"],Ze=Ae((()=>(0,n._)("span",{style:{padding:"10px"}},"até",-1))),Ke=["value"],Qe={key:3,class:"table table-striped page-table table-hover"},Je=Ae((()=>(0,n._)("thead",{class:"page-table-header"},[(0,n._)("tr",null,[(0,n._)("td",null,"Descrição"),(0,n._)("td",null,"Nome fatura"),(0,n._)("td",null,"Data"),(0,n._)("td",null,"Tipo"),(0,n._)("td",null,"Categoria"),(0,n._)("td",null,"Valor"),(0,n._)("td",null,"Parcelado"),(0,n._)("td",null,"Qtd.Parcelas"),(0,n._)("td",null,"N.Parcela"),(0,n._)("td",null,"Verificado"),(0,n._)("td")])],-1))),Xe={class:"page-table-body"},ao=["onChange","checked"],to={class:"table-actions d-flex"},eo=["onClick"],oo=["onClick"],no={key:4,class:"row"},io={class:"col-12"},lo={"aria-label":"Page navigation example"},so={class:"pagination"},ro={class:"page-item"},co={class:"page-item"},uo={key:0,class:"page-link"},po=["onClick"],go={class:"page-item"},mo={class:"container-fluid"},vo={class:"row row-cols-1 transaction-form-rows"},_o={class:"col-md-4"},wo=Ae((()=>(0,n._)("label",{for:"description",class:"form-label"},"Descrição",-1))),bo={class:"col-md-4"},ho=Ae((()=>(0,n._)("label",{for:"description",class:"form-label"},"Nome na fatura",-1))),fo={class:"col-md-4"},yo=Ae((()=>(0,n._)("label",{for:"date",class:"form-label"},"Data",-1))),Co={class:"row row-cols-2 transaction-form-rows"},ko={class:"col-6"},Do=Ae((()=>(0,n._)("label",{for:"tipo",class:"form-label"},"Tipo",-1))),Po=Ae((()=>(0,n._)("option",{value:""},"Selecione um tipo",-1))),xo=["value"],Mo={class:"col-md-6"},$o=Ae((()=>(0,n._)("label",{for:"categoria",class:"form-label"},"Categoria",-1))),Ao=["disabled"],So=Ae((()=>(0,n._)("option",{value:""},"Selecione uma categoria",-1))),Fo=["value"],Vo={class:"row row-cols-2 transaction-form-rows"},zo={class:"col-6"},To=Ae((()=>(0,n._)("label",{for:"valor",class:"form-label"},"Valor",-1))),Io={key:0,class:"col-md-3"},No=Ae((()=>(0,n._)("label",{for:"categoria",class:"form-label"},"Parcelamento ?",-1))),Lo=Ae((()=>(0,n._)("option",{value:"false"},"Não",-1))),Ro=Ae((()=>(0,n._)("option",{value:"true"},"Sim",-1))),Wo=[Lo,Ro],Bo={key:1,class:"col-md-1"},jo=Ae((()=>(0,n._)("label",{for:"parcelas",class:"form-label"},"Parcelas",-1))),Uo=["disabled"],qo={key:2,class:"col-md-2"},Eo=Ae((()=>(0,n._)("label",{for:"valor_parcela",class:"form-label"},"Valor parcela",-1))),Oo={key:0,class:"row"},Yo={class:"col-md-12"},Ho={class:"table table-striped installment-table"},Go=Ae((()=>(0,n._)("thead",{class:"page-table-header"},[(0,n._)("tr",null,[(0,n._)("td",null,"Descrição"),(0,n._)("td",null,"Nome na fatura"),(0,n._)("td",null,"Competência"),(0,n._)("td",null,"Numero Parcela"),(0,n._)("td",null,"Valor")])],-1))),Zo={class:"installment-table-body"},Ko={class:"page-table-row"},Qo={"data-title":"Descrição"},Jo=["onUpdate:modelValue"],Xo={"data-title":"Nome na fatura"},an=["onUpdate:modelValue"],tn={"data-title":"Competência"},en={"data-title":"Numero Parcela"},on={"data-title":"Valor"};function nn(a,t,e,i,l,s){const r=(0,n.up)("page-title"),c=(0,n.up)("loading"),d=(0,n.up)("money-format"),u=(0,n.up)("font-awesome-icon"),p=(0,n.up)("v-date-picker"),g=(0,n.up)("no-content"),m=(0,n.up)("currency-input"),v=(0,n.up)("CurrencyInput"),_=(0,n.up)("modal");return(0,n.wg)(),(0,n.iD)("div",Se,[(0,n.Wm)(r,{"page-subtitle":i.data.pageTitle.subtitle,"page-title":i.data.pageTitle.title,icon:i.data.pageTitle.icon},null,8,["page-subtitle","page-title","icon"]),i.data.loading.show?((0,n.wg)(),(0,n.j4)(c,{key:0,message:"Processando aguarde..."})):(0,n.kq)("",!0),(0,n._)("div",Fe,[(0,n._)("div",Ve,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.data.statistics,(a=>((0,n.wg)(),(0,n.iD)("div",ze,[(0,n._)("h4",Te,(0,P.zw)(a.description),1),(0,n._)("span",null,[(0,n.Wm)(d,{value:a.amount},null,8,["value"])])])))),256))])]),(0,n._)("div",Ie,[(0,n._)("button",{class:"btn btn-primary app-button",onClick:t[0]||(t[0]=(...a)=>i.viewOpenModalForm&&i.viewOpenModalForm(...a)),type:"button"},[(0,n.Wm)(u,{icon:"fa-solid fa-circle-plus"})]),(0,n._)("button",{class:"btn btn-secondary app-button",onClick:t[1]||(t[1]=(...a)=>i.viewOpenCloseFilter&&i.viewOpenCloseFilter(...a)),type:"button"},[(0,n.Wm)(u,{icon:"fa-solid fa-filter"})]),(0,n._)("div",Ne,[(0,n.wy)((0,n._)("select",{class:"form-select show-pages",onChange:t[2]||(t[2]=(...a)=>i.viewChangeLimitPerPage&&i.viewChangeLimitPerPage(...a)),"onUpdate:modelValue":t[3]||(t[3]=a=>i.data.pagination.limit=a)},Re,544),[[o.bM,i.data.pagination.limit]])])]),i.data.filter.open?((0,n.wg)(),(0,n.iD)("div",We,[(0,n._)("div",Be,[(0,n._)("div",je,[Ue,(0,n._)("div",qe,[(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=a=>i.data.filter.description=a),class:"form-control"},null,512),[[o.nr,i.data.filter.description]])])]),(0,n._)("div",Ee,[Oe,(0,n._)("div",Ye,[(0,n.Wm)(p,{mode:"date",modelValue:i.data.filter.range,"onUpdate:modelValue":t[5]||(t[5]=a=>i.data.filter.range=a),"is-range":""},{default:(0,n.w5)((({inputValue:a,inputEvents:t,isDragging:e})=>[(0,n._)("div",He,[(0,n._)("input",(0,n.dG)({class:"form-control",value:a.start},(0,n.mx)(t.start,!0)),null,16,Ge),Ze,(0,n._)("input",(0,n.dG)({disabled:"",style:{"margin-right":"10px"},class:"form-control",value:a.end},(0,n.mx)(t.end,!0)),null,16,Ke)])])),_:1},8,["modelValue"]),(0,n._)("button",{type:"button",onClick:t[6]||(t[6]=(...a)=>i.viewSearchFilter&&i.viewSearchFilter(...a)),class:"btn btn-primary app-button"},[(0,n.Wm)(u,{icon:"fa-solid fa-search"})])])])])])):(0,n.kq)("",!0),i.isRegisters?((0,n.wg)(),(0,n.iD)("table",Qe,[Je,(0,n._)("tbody",Xe,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.data.transactions,(a=>((0,n.wg)(),(0,n.iD)("tr",null,[(0,n._)("td",{"data-title":"Descrição",class:(0,P.C_)({"checked-row":a.checked})},(0,P.zw)(a.description),3),(0,n._)("td",{"data-title":"Nome fatura",class:(0,P.C_)({"checked-row":a.checked})},(0,P.zw)(i.formatEmptyValue(a.installment_description)),3),(0,n._)("td",{"data-title":"Data",class:(0,P.C_)({"checked-row":a.checked})},(0,P.zw)(a.date),3),(0,n._)("td",{"data-title":"Tipo",class:(0,P.C_)({"checked-row":a.checked})},(0,P.zw)(a.transaction_type.description),3),(0,n._)("td",{"data-title":"Categoria",class:(0,P.C_)({"checked-row":a.checked})},(0,P.zw)(a.category.description),3),(0,n._)("td",{"data-title":"Valor",class:(0,P.C_)({"checked-row":a.checked})},[(0,n.Wm)(d,{value:a.amount},null,8,["value"])],2),(0,n._)("td",{"data-title":"Parcelado",class:(0,P.C_)({"checked-row":a.checked})},(0,P.zw)(i.formatParceladoLabel(a.installment)),3),(0,n._)("td",{"data-title":"Qtd.Parcelas",class:(0,P.C_)({"checked-row":a.checked})},(0,P.zw)(i.formatEmptyValue(a.amount_installment)),3),(0,n._)("td",{"data-title":"N.Parcela",class:(0,P.C_)({"checked-row":a.checked})},(0,P.zw)(i.formatEmptyValue(a.current_installment)),3),(0,n._)("td",{"data-title":"Verificado",class:(0,P.C_)({"checked-row":a.checked})},[(0,n._)("input",{type:"checkbox",onChange:t=>i.viewCheckedTransaction(a.id,t),checked:a.checked},null,40,ao)],2),(0,n._)("td",{class:(0,P.C_)({"checked-row":a.checked})},[(0,n._)("div",to,[(0,n._)("button",{type:"button",onClick:t=>i.viewOpenModalEditForm(a.id,a.description),class:"btn btn-primary app-button"},[(0,n.Wm)(u,{icon:"fa-solid fa-pen-to-square"})],8,eo),(0,n._)("button",{type:"button",onClick:t=>i.viewDeleteAccountConfirmation(a.id,a.description),class:"btn btn-outline-danger"},[(0,n.Wm)(u,{icon:"fa-solid fa-trash"})],8,oo)])],2)])))),256))])])):((0,n.wg)(),(0,n.j4)(g,{key:2,message:"Não há registros, Efetue uma busca ou adicione um novo registro"})),i.isRegisters?((0,n.wg)(),(0,n.iD)("div",no,[(0,n._)("div",io,[(0,n._)("nav",lo,[(0,n._)("ul",so,[(0,n._)("li",ro,[(0,n._)("a",{onClick:t[7]||(t[7]=(0,o.iM)((a=>i.viewListNavigation("prev")),["prevent"])),class:"page-link",href:"#"},"Anterior")]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.data.pagination.pages,(a=>((0,n.wg)(),(0,n.iD)("li",co,["..."===a?((0,n.wg)(),(0,n.iD)("span",uo,"...")):((0,n.wg)(),(0,n.iD)("a",{key:1,onClick:(0,o.iM)((t=>i.viewChangePageByPageNumber(a)),["prevent"]),class:(0,P.C_)(["page-link",{active:i.data.pagination.current_page===a}]),href:"#"},(0,P.zw)(a),11,po))])))),256)),(0,n._)("li",go,[(0,n._)("a",{onClick:t[8]||(t[8]=(0,o.iM)((a=>i.viewListNavigation("next")),["prevent"])),class:"page-link",href:"#"},"Proximo")])])])])])):(0,n.kq)("",!0),i.data.modal.show?((0,n.wg)(),(0,n.j4)(_,{key:5,onCloseModal:i.viewCloseModal,"show-action-buttons":!0,"show-close-button":!0,onSaveData:i.viewModalSaveData,title:i.data.modal.title,icon:i.data.modal.icon},{default:(0,n.w5)((()=>[(0,n._)("div",mo,[(0,n._)("div",vo,[(0,n._)("div",_o,[wo,(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":t[9]||(t[9]=a=>i.data.transaction.description=a),class:"form-control",id:"description",placeholder:"Digite um nome para sua conta","aria-describedby":"descriptionHelp"},null,512),[[o.nr,i.data.transaction.description]])]),(0,n._)("div",bo,[ho,(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":t[10]||(t[10]=a=>i.data.transaction.installment_description=a),class:"form-control",id:"description",placeholder:"Digite o nome que esta escrito na fatura","aria-describedby":"descriptionHelp"},null,512),[[o.nr,i.data.transaction.installment_description]])]),(0,n._)("div",fo,[yo,(0,n.wy)((0,n._)("input",{type:"date","onUpdate:modelValue":t[11]||(t[11]=a=>i.data.transaction.date=a),class:"form-control",id:"date",placeholder:"Digite um nome para sua conta","aria-describedby":"descriptionHelp"},null,512),[[o.nr,i.data.transaction.date]])])]),(0,n._)("div",Co,[(0,n._)("div",ko,[Do,(0,n.wy)((0,n._)("select",{class:"form-select","onUpdate:modelValue":t[12]||(t[12]=a=>i.data.transaction.transaction_type=a)},[Po,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.data.transactionTypes,(a=>((0,n.wg)(),(0,n.iD)("option",{value:a.id},(0,P.zw)(a.description),9,xo)))),256))],512),[[o.bM,i.data.transaction.transaction_type]])]),(0,n._)("div",Mo,[$o,(0,n.wy)((0,n._)("select",{class:"form-select","onUpdate:modelValue":t[13]||(t[13]=a=>i.data.transaction.transaction_category=a),disabled:i.data.selectStates.categoryDisable},[So,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.data.transactionCategories,(a=>((0,n.wg)(),(0,n.iD)("option",{value:a.id},(0,P.zw)(a.description),9,Fo)))),256))],8,Ao),[[o.bM,i.data.transaction.transaction_category]])])]),(0,n._)("div",Vo,[(0,n._)("div",zo,[To,(0,n.Wm)(m,{class:"form-control",modelValue:i.data.transaction.amount,"onUpdate:modelValue":t[14]||(t[14]=a=>i.data.transaction.amount=a),options:i.data.moneyInputConfig},null,8,["modelValue","options"])]),i.isEdit?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",Io,[No,(0,n.wy)((0,n._)("select",{class:"form-select","onUpdate:modelValue":t[15]||(t[15]=a=>i.data.transaction.installment=a)},Wo,512),[[o.bM,i.data.transaction.installment]])])),i.isEdit?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",Bo,[jo,(0,n.wy)((0,n._)("input",{type:"text",onKeyup:t[16]||(t[16]=(...a)=>i.viewSimulateInstallmentsAmount&&i.viewSimulateInstallmentsAmount(...a)),"onUpdate:modelValue":t[17]||(t[17]=a=>i.data.transaction.amount_installments=a),class:"form-control",disabled:i.data.selectStates.installmentDisable,id:"parcelas",placeholder:"Parcelas"},null,40,Uo),[[o.nr,i.data.transaction.amount_installments]])])),i.isEdit?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("div",qo,[Eo,(0,n.Wm)(v,{options:{currency:"BRL"},modelValue:i.data.simulateInstallment,"onUpdate:modelValue":t[18]||(t[18]=a=>i.data.simulateInstallment=a),disabled:"",class:"form-control"},null,8,["modelValue"])]))]),i.data.isInstallment&&i.data.transaction.related_installments.length?((0,n.wg)(),(0,n.iD)("div",Oo,[(0,n._)("div",Yo,[(0,n._)("table",Ho,[Go,(0,n._)("tbody",Zo,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.data.transaction.related_installments,(a=>((0,n.wg)(),(0,n.iD)("tr",Ko,[(0,n._)("td",Qo,[(0,n.wy)((0,n._)("input",{type:"text",class:"form-control installment-table-input-size","onUpdate:modelValue":t=>a.description=t},null,8,Jo),[[o.nr,a.description]])]),(0,n._)("td",Xo,[(0,n.wy)((0,n._)("input",{type:"text",class:"form-control installment-table-input-size","onUpdate:modelValue":t=>a.installment_description=t},null,8,an),[[o.nr,a.installment_description]])]),(0,n._)("td",tn,(0,P.zw)(a.month)+"/"+(0,P.zw)(a.year),1),(0,n._)("td",en,(0,P.zw)(a.current_installment),1),(0,n._)("td",on,[(0,n.Wm)(v,{options:i.data.moneyInputConfig,modelValue:a.amount,"onUpdate:modelValue":t=>a.amount=t,class:"form-control installment-table-input-size"},null,8,["options","modelValue","onUpdate:modelValue"])])])))),256))])])])])):(0,n.kq)("",!0)])])),_:1},8,["onCloseModal","onSaveData","title","icon"])):(0,n.kq)("",!0)])}const ln=a=>{if(Number.isInteger(a))return 100*a;{let t=String(a).split("."),e=t[0],o=t[1],n=0;return n=o.indexOf("0",0)<0&&parseInt(o)<10?e.concat(o).concat("0"):e.concat(o),Number.parseInt(n)}},sn=(a,t)=>{let e=j.getters.userData.user_id,o=t.params.id,n=`/users/${e}/accounts/${o}/statistics`;n=n.concat(`?initial_date=${Rt(a.filter.range.start)}&end_date=${Rt(a.filter.range.end)}`),q.get(n).then((t=>{a.statistics=t.data})).catch((a=>{G("Atenção","Falha ao obter statistica")}))},rn=a=>{a.loading.show=!0;let t=j.getters.userData.user_id;q.get(`/users/${t}/transactions/${a.categoryId}?initial_date=${Rt(a.filters.range.start)}&end_date=${Rt(a.filters.range.end)}&module=${a.filters.module}`).then((t=>{a.loading.show=!1,a.transactionList=t.data})).catch((t=>{a.loading.show=!1,G("Atenção","Falha ao obter transações da categoria")}))},cn=(a,t)=>{let e=j.getters.userData.user_id,o=t.params.id;a.loading.show=!0,q.get(`/users/${e}/accounts/${o}/transactions/${a.transactionId}`).then((t=>{a.loading.show=!1,a.transaction.description=t.data.description,a.transaction.transaction_type=t.data.transaction_type.id,a.transaction.transaction_category=t.data.category.id,a.transaction.date=t.data.date.split("/").reverse().join("-"),a.transaction.amount=t.data.amount<0?-1*t.data.amount:t.data.amount,a.transaction.installment_description=t.data.installment_description,a.isInstallment=t.data.installment,a.transaction.related_installments=t.data.related_installments.filter((a=>a.current_installment!==t.data.current_installment))})).catch((t=>{a.loading.show=!1,G("Atenção","Falha ao obter dados da transação")}))},dn=(a,t)=>{let e=j.getters.userData.user_id,o=t.params.id;a.loading.show=!0;let n=`/users/${e}/accounts/${o}/transactions?limit=${a.pagination.limit}&page=${a.pagination.current_page}&initial_date=${Rt(a.filter.range.start)}&end_date=${Rt(a.filter.range.end)}`;null!=a.filter.description&&(n=n.concat(`&description=${a.filter.description}`)),q.get(n).then((t=>{a.loading.show=!1,a.pagination.current_page=t.data.current_page,a.pagination.totalPages=t.data.total_pages,a.pagination.totalRows=t.data.total_rows,a.transactions=t.data.items})).catch((t=>{a.loading.show=!1,G("Atenção","Falha ao obter transações")}))};function un(a,t){a.transaction.description=null,a.transaction.date=null,a.transaction.transaction_type="",a.transaction.amount=null,a.transaction.transaction_category="",a.categoryDisable=!0,a.transaction.installment="false",a.transaction.amount_installments=null,a.simulateInstallment=null,a.transaction.installment_description=null,a.modal.show=!1,a.transaction.related_installments=[],dn(a,t),sn(a,t)}const pn=(a,t)=>{let e=j.getters.userData.user_id,o=t.params.id,n=a.transaction;"false"===n.installment&&(delete n["installment"],delete n["amount_installments"]),n.amount=ln(n.amount),a.loading.show=!0,q.post(`/users/${e}/accounts/${o}/transactions`,n).then((e=>{a.loading.show=!1,Z("Sucesso!!","Transação cadastrada com sucesso").then((e=>{un(a,t)}))})).catch((t=>{a.loading.show=!1,G("Atenção","Falha ao cadastrar transação, tente novamente ou contate o administrador")}))},gn=(a,t)=>{a.loading.show=!0;let e=j.getters.userData.user_id,o=t.params.id,n=a.transaction;delete n["installment"],delete n["amount_installments"],n.amount=ln(n.amount),n.related_installments=n.related_installments.map((a=>(a.amount=ln(a.amount),a))),q.put(`/users/${e}/accounts/${o}/transactions/${a.transactionId}`,n).then((e=>{a.loading.show=!1,a.modal.show=!1,Z("Sucesso!!","Transação atualizada com sucesso!").then((e=>{e.isConfirmed&&un(a,t)}))})).catch((t=>{a.modal.show=!1,G("Atenção","Falha ao atualizar transação!")}))},mn=(a,t)=>{a.loading.show=!0;let e=j.getters.userData.user_id,o=t.params.id;return q.delete(`/users/${e}/accounts/${o}/transactions/${a.transaction.id}`).then((e=>{a.loading.show=!1,Z("Sucesso!!","Transação deletada com sucesso").then((e=>{e.isConfirmed&&(dn(a,t),sn(a,t))}))})).catch((t=>{a.loading.show=!1,G("Atenção","Falha ao deletar transação")}))},vn=(a,t,e)=>{let o=j.getters.userData.user_id,n=t.params.id;q.put(`/users/${o}/accounts/${n}/transactions/${a.transactionId}/check`,{checked:e}).then((e=>{dn(a,t),a.transactionId=""})).catch((a=>{G("Atenção","Falha ao checkar transação")}))},_n=(a,t)=>{jt(t.params.id).then((t=>{a.pageTitle.title=`Transações - ${t.data.description}`,a.pageTitle.icon="fa-solid fa-receipt",a.pageTitle.subtitle="Gerencie suas transações"}))},wn=(a,t)=>{null!=a.filter.range?(sn(a,t),dn(a,t)):G("Atenção","Preencha o filtro de data com inicio e fim para continuar")},bn=(a,t,e)=>{if("prev"===e&&a.pagination.current_page>1)return a.pagination.current_page-=1,void dn(a,t);if("next"===e){if(a.pagination.current_page>=a.pagination.totalPages)return;a.pagination.current_page+=1,dn(a,t)}},hn=(a,t)=>{let e=Object.getOwnPropertyNames(a.transaction);for(let o=0;o<e.length;o++)if("installment_description"!==e[o]){if(""===a.transaction[e[o]]||null==a.transaction[e[o]])return console.log(`VALOR i: ${o}`),console.log(`ERROR: ${e[o]}`),void G("Atenção",`Preencha o campo ${a.inputLabels[o]}`);if("installment"===e[o]&&"true"===a.transaction["installment"]&&0===a.transaction.amount_installments&&"edit"!==a.modal.operation)return void G("Atenção","Numero de parcelas inválido")}t()},fn=a=>!1===a?"Não":"Sim",yn=a=>null==a||""===a?" - ":a,Cn=a=>q.get("/transaction-types").then((t=>{a.transactionTypes=t.data})).catch((a=>{G("Atenção","Falha ao obter tipo de transações")})),kn=a=>(a.loading.show=!0,q.get(`/transaction-categories?transaction_type_id=${a.transaction.transaction_type}`).then((t=>{a.loading.show=!1,a.transactionCategories=t.data})).catch((a=>{G("Atenção","Falha ao listar categorias")}))),Dn={class:"container-fluid d-flex align-items-center justify-content-center no-content-container"};function Pn(a,t,e,o,i,l){return(0,n.wg)(),(0,n.iD)("div",Dn,[(0,n._)("h3",null,(0,P.zw)(a.$props.message),1)])}var xn={name:"no-content",props:["message"],setup(){}};const Mn=(0,l.Z)(xn,[["render",Pn],["__scopeId","data-v-650030d2"]]);var $n=Mn;const An={ref:"inputRef",type:"text"};function Sn(a,t,e,o,i,l){return(0,n.wg)(),(0,n.iD)("input",An,null,512)}var Fn=e(7613),Vn={name:"CurrencyInput",props:{modelValue:Number,options:Object},setup(a){const{inputRef:t,setValue:e}=(0,Fn.Er)(a.options);return(0,n.YP)((()=>a.modelValue),(a=>{e(a)})),{inputRef:t}}};const zn=(0,l.Z)(Vn,[["render",Sn]]);var Tn=zn,In={components:{CurrencyInput:Tn,NoContent:$n,Modal:Ce,MoneyFormat:re,Badge:oe,Loading:la,PageTitle:Ua},setup(){let a=(0,u.yj)(),t=(0,D.qj)({modal:{title:"Nova Transação",icon:"",show:!1,operation:"new"},pageTitle:{title:"",subtitle:"",icon:""},filter:{open:!0,description:"",range:""},loading:{show:!1},statistics:{},pagination:{pages:[],limit:15,current_page:1,totalPages:0,totalRows:0},transactionTypes:[],transactionCategories:[],inputLabels:["Descrição","Nome Fatura","Data","Tipo","Categoria","Valor","Quantidade"],selectStates:{categoryDisable:!0,installmentDisable:!0},simulateInstallment:0,isInstallment:!1,transactionId:"",transaction:{description:"",installment_description:"",date:"",transaction_type:"",transaction_category:"",amount:null,installment:"false",amount_installments:0,related_installments:[]},transactions:[],moneyInputConfig:{currency:"BRL",locale:"pt-BR",precision:2,autoDecimalDigits:!0}});const e=()=>{Kt(t)},o=()=>{dn(t,a)},i=e=>{bn(t,a,e)},l=e=>{t.pagination.current_page=e,dn(t,a)},s=()=>{wn(t,a)},r=()=>{t.modal.show=!0,t.modal.operation="new",t.modal.title="Nova transação",t.modal.icon="fa-solid fa-circle-plus"},c=()=>{t.modal.show=!1,t.transaction={installment_description:"",description:"",date:"",transaction_type:"",amount:null,transaction_category:"",installment:"false",amount_installments:0,related_installments:[]}},d=()=>{hn(t,(()=>{"new"===t.modal.operation?pn(t,a):gn(t,a)}))},p=(e,o)=>{t.transactionId=e,cn(t,a),t.modal.show=!0,t.modal.operation="edit",t.modal.title=`Editar - ${o}`,t.modal.icon="fa-solid fa-pen-to-square"},g=(e,o)=>{K("Confirmação",`Deseja deletar a transação ${o}?`,(()=>{t.transaction.id=e,mn(t,a)}))},m=()=>{""!==t.transaction.amount_installments?t.simulateInstallment=t.transaction.amount/t.transaction.amount_installments:t.simulateInstallment=0};let v=(e,o)=>{t.transactionId=e,t.transactions=t.transactions.map((a=>a.id===e?(a.checked=o.target.checked,a):a)),vn(t,a,o.target.checked)};const _=(0,n.Fl)((()=>"edit"===t.modal.operation)),w=(0,n.Fl)((()=>t.transactions.length>0));return(0,n.YP)((()=>t.transactions),(e=>{t.pagination.current_page>1&&0===e.length&&(t.pagination.current_page-=1,dn(t,a)),t.pagination.pages=ce(t.pagination.current_page,t.pagination.totalRows,t.pagination.limit,8)})),(0,n.YP)((()=>t.transaction.transaction_type),(a=>{if(""===a)return t.selectStates.categoryDisable=!0,void(t.transactionCategories=[]);t.selectStates.categoryDisable=!1,kn(t)})),(0,n.YP)((()=>t.transaction.installment),(a=>{"true"!==a?(t.transaction.amount_installments=0,t.selectStates.installmentDisable=!0):t.selectStates.installmentDisable=!1})),(0,n.bv)((()=>{Qt(t),_n(t,a),sn(t,a),dn(t,a),Cn(t)})),{data:t,viewOpenCloseFilter:e,viewChangeLimitPerPage:o,viewListNavigation:i,viewChangePageByPageNumber:l,viewSearchFilter:s,viewCloseModal:c,viewModalSaveData:d,viewOpenModalForm:r,viewDeleteAccountConfirmation:g,viewOpenModalEditForm:p,viewSimulateInstallmentsAmount:m,isEdit:_,isRegisters:w,formatDateAndHour:Lt,formatParceladoLabel:fn,viewCheckedTransaction:v,formatEmptyValue:yn}}};const Nn=(0,l.Z)(In,[["render",nn],["__scopeId","data-v-a647652c"]]);var Ln=Nn;const Rn=a=>((0,n.dD)("data-v-0749a79a"),a=a(),(0,n.Cn)(),a),Wn={class:"container-fluid"},Bn={class:"page-action"},jn={class:"btn btn-secondary app-button",type:"button"},Un={class:"show-per-page"},qn=(0,n.uE)('<option value="5" data-v-0749a79a>5</option><option value="10" data-v-0749a79a>10</option><option value="15" data-v-0749a79a>15</option><option value="50" data-v-0749a79a>50</option><option value="100" data-v-0749a79a>100</option>',5),En=[qn],On={key:1,class:"filter-body"},Yn={class:"row row-cols-1"},Hn={class:"col-md-6"},Gn=Rn((()=>(0,n._)("label",{class:"form-label"},"Descrição",-1))),Zn={class:"input-group"},Kn={key:3,class:"row row-cols-1 goal-cards"},Qn={class:"col-md-4 goals-cards-columns"},Jn={class:"card"},Xn={class:"card-header"},ai={class:"card-body"},ti={class:"meta-list"},ei=Rn((()=>(0,n._)("b",{style:{"font-weight":"bold"}},"Meta:",-1))),oi=Rn((()=>(0,n._)("b",{style:{"font-weight":"bold"}},"Total arrecadado:",-1))),ni=Rn((()=>(0,n._)("b",{style:{"font-weight":"bold"}},"Restante:",-1))),ii={class:"progress",style:{height:"20px"}},li={key:1,class:"progress-bar bar-animate",role:"progressbar",style:{width:"100%",background:"#3c9536"},"aria-valuenow":"25","aria-valuemin":"0","aria-valuemax":"100"},si={class:"card-footer"},ri={class:"row-btn-actions d-flex"},ci=["onClick"],di=["onClick"],ui=["onClick"],pi={key:4,class:"row"},gi={class:"col-12"},mi={"aria-label":"Page navigation example"},vi={class:"pagination"},_i={class:"page-item"},wi={class:"page-item"},bi={key:0,class:"page-link"},hi=["onClick"],fi={class:"page-item"},yi={class:"row row-cols-1"},Ci={class:"col-md-6"},ki=Rn((()=>(0,n._)("label",{for:"description",class:"form-label"},"Descrição",-1))),Di={class:"col-md-6"},Pi=Rn((()=>(0,n._)("label",{for:"description",class:"form-label"},"Meta",-1))),xi={class:"alert alert-info"},Mi={class:"row row-cols-2"},$i={class:"col-md-3"},Ai=Rn((()=>(0,n._)("h4",{class:"tipo-transacao-label"},"Meta:",-1))),Si={class:"value-label positive-label"},Fi={class:"col-md-3"},Vi=Rn((()=>(0,n._)("h4",{class:"tipo-transacao-label"},"Total arrecadado:",-1))),zi={class:"value-label positive-label"},Ti={class:"col-md-3"},Ii=Rn((()=>(0,n._)("h4",{class:"tipo-transacao-label"},"Restante:",-1))),Ni={class:"value-label positive-label"},Li={class:"col-md-3"},Ri=Rn((()=>(0,n._)("h4",{class:"tipo-transacao-label"},"Concluída:",-1))),Wi={class:"value-label positive-label"},Bi={class:"row row-cols-1 form-row"},ji={class:"col-md-4"},Ui=Rn((()=>(0,n._)("label",{class:"form-label"},"Descrição",-1))),qi={class:"col-md-4"},Ei=Rn((()=>(0,n._)("label",{class:"form-label"},"Valor",-1))),Oi={class:"col-md-2"},Yi=Rn((()=>(0,n._)("label",{class:"form-label"},"Tipo:",-1))),Hi=Rn((()=>(0,n._)("option",{value:""},"Selecione um tipo",-1))),Gi=Rn((()=>(0,n._)("option",{value:"positive"},"Entrada",-1))),Zi=Rn((()=>(0,n._)("option",{value:"negative"},"Saida",-1))),Ki=[Hi,Gi,Zi],Qi={class:"col-md-2"},Ji={class:"table table-striped"},Xi=Rn((()=>(0,n._)("thead",{class:"page-table-header"},[(0,n._)("tr",null,[(0,n._)("td",null,"Descrição"),(0,n._)("td",null,"Valor"),(0,n._)("td")])],-1))),al={class:"page-table-body"},tl={class:"page-table-row"},el={"data-title":"Descrição"},ol={"data-title":"Valor"},nl=["onClick"],il={key:0,class:"row"},ll={class:"col-12"},sl={"aria-label":"Page navigation example"},rl={class:"pagination"},cl={class:"page-item"},dl={class:"page-item"},ul={key:0,class:"page-link"},pl=["onClick"],gl={class:"page-item"};function ml(a,t,e,i,l,s){const r=(0,n.up)("page-title"),c=(0,n.up)("loading"),d=(0,n.up)("font-awesome-icon"),u=(0,n.up)("no-content"),p=(0,n.up)("currency-input"),g=(0,n.up)("modal"),m=(0,n.up)("CurrencyInput"),v=(0,n.up)("money-format");return(0,n.wg)(),(0,n.iD)("div",Wn,[(0,n.Wm)(r,{"page-subtitle":i.data.pageTitle.subtitle,"page-title":i.data.pageTitle.title,icon:i.data.pageTitle.icon},null,8,["page-subtitle","page-title","icon"]),i.data.loading.show?((0,n.wg)(),(0,n.j4)(c,{key:0,message:"Processando aguarde..."})):(0,n.kq)("",!0),(0,n._)("div",Bn,[(0,n._)("button",{class:"btn btn-primary app-button",onClick:t[0]||(t[0]=(...a)=>i.viewOpenModalForm&&i.viewOpenModalForm(...a)),type:"button"},[(0,n.Wm)(d,{icon:"fa-solid fa-circle-plus"})]),(0,n._)("button",jn,[(0,n.Wm)(d,{icon:"fa-solid fa-filter"})]),(0,n._)("div",Un,[(0,n.wy)((0,n._)("select",{class:"form-select show-pages",onChange:t[1]||(t[1]=(...a)=>i.viewChangeLimitPerPage&&i.viewChangeLimitPerPage(...a)),"onUpdate:modelValue":t[2]||(t[2]=a=>i.data.pagination.limit=a)},En,544),[[o.bM,i.data.pagination.limit]])])]),i.data.filter.open?((0,n.wg)(),(0,n.iD)("div",On,[(0,n._)("div",Yn,[(0,n._)("div",Hn,[Gn,(0,n._)("div",Zn,[(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=a=>i.data.filter.description=a),class:"form-control"},null,512),[[o.nr,i.data.filter.description]]),(0,n._)("button",{type:"button",onClick:t[4]||(t[4]=(...a)=>i.viewSearchFilter&&i.viewSearchFilter(...a)),class:"btn btn-primary app-button"},[(0,n.Wm)(d,{icon:"fa-solid fa-search"})])])])])])):(0,n.kq)("",!0),i.isData?((0,n.wg)(),(0,n.iD)("div",Kn,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.data.goals,(a=>((0,n.wg)(),(0,n.iD)("div",Qn,[(0,n._)("div",Jn,[(0,n._)("div",Xn,[(0,n._)("h3",null,(0,P.zw)(a.description),1)]),(0,n._)("div",ai,[(0,n._)("ul",ti,[(0,n._)("li",null,[ei,(0,n.Uk)(" "+(0,P.zw)(i.formatMoneyBRL(a.amount)),1)]),(0,n._)("li",null,[oi,(0,n.Uk)(" "+(0,P.zw)(i.formatMoneyBRL(a.balance.goal_contributions)),1)]),(0,n._)("li",null,[ni,(0,n.Uk)(" "+(0,P.zw)(i.formatMoneyBRL(a.balance.goal_remaining)),1)]),(0,n._)("li",null,[(0,n._)("div",ii,[a.balance.percentage<100?((0,n.wg)(),(0,n.iD)("div",{key:0,class:"progress-bar bar-animate",role:"progressbar",style:(0,P.j5)([`width:${a.balance.percentage}%`,{background:"#ff7b9a"}]),"aria-valuenow":"25","aria-valuemin":"0","aria-valuemax":"100"},null,4)):((0,n.wg)(),(0,n.iD)("div",li))])])])]),(0,n._)("div",si,[(0,n._)("div",ri,[(0,n._)("button",{type:"button",onClick:t=>i.openAportesModal(a),class:"btn btn-primary app-button"},[(0,n.Wm)(d,{icon:"fa-solid fa-circle-plus"}),(0,n.Uk)(" Aportes")],8,ci),(0,n._)("button",{type:"button",onClick:t=>i.viewOpenModalEditForm(a.id,a.description),class:"btn btn-primary app-button"},[(0,n.Wm)(d,{icon:"fa-solid fa-pen-to-square"})],8,di),(0,n._)("button",{type:"button",onClick:t=>i.viewDeleteGoalPrompt(a.id,a.description),class:"btn btn-outline-danger"},[(0,n.Wm)(d,{icon:"fa-solid fa-trash"})],8,ui)])])])])))),256))])):((0,n.wg)(),(0,n.j4)(u,{key:2,message:"Não há metas cadastradas"})),i.isData?((0,n.wg)(),(0,n.iD)("div",pi,[(0,n._)("div",gi,[(0,n._)("nav",mi,[(0,n._)("ul",vi,[(0,n._)("li",_i,[(0,n._)("a",{onClick:t[5]||(t[5]=(0,o.iM)((a=>i.viewListNavigation("prev")),["prevent"])),class:"page-link",href:"#"},"Anterior")]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.data.pagination.pages,(a=>((0,n.wg)(),(0,n.iD)("li",wi,["..."===a?((0,n.wg)(),(0,n.iD)("span",bi,"...")):((0,n.wg)(),(0,n.iD)("a",{key:1,onClick:(0,o.iM)((t=>i.viewChangePageByPageNumber(a)),["prevent"]),class:(0,P.C_)(["page-link",{active:i.data.pagination.current_page===a}]),href:"#"},(0,P.zw)(a),11,hi))])))),256)),(0,n._)("li",fi,[(0,n._)("a",{onClick:t[6]||(t[6]=(0,o.iM)((a=>i.viewListNavigation("next")),["prevent"])),class:"page-link",href:"#"},"Proximo")])])])])])):(0,n.kq)("",!0),i.data.modal.show?((0,n.wg)(),(0,n.j4)(g,{key:5,onCloseModal:i.viewCloseModal,"show-action-buttons":!0,"show-close-button":!0,onSaveData:i.viewModalSaveData,title:i.data.modal.title,icon:i.data.modal.icon},{default:(0,n.w5)((()=>[(0,n._)("div",yi,[(0,n._)("div",Ci,[ki,(0,n.wy)((0,n._)("input",{type:"text",class:"form-control",placeholder:"digite uma descrição","onUpdate:modelValue":t[7]||(t[7]=a=>i.data.goal.description=a)},null,512),[[o.nr,i.data.goal.description]])]),(0,n._)("div",Di,[Pi,(0,n.Wm)(p,{class:"form-control",options:i.data.moneyInputConfig,modelValue:i.data.goal.amount,"onUpdate:modelValue":t[8]||(t[8]=a=>i.data.goal.amount=a)},null,8,["options","modelValue"])])])])),_:1},8,["onCloseModal","onSaveData","title","icon"])):(0,n.kq)("",!0),i.aportesData.modal.show?((0,n.wg)(),(0,n.j4)(g,{key:6,"show-action-buttons":!1,"show-close-button":!0,onCloseModal:i.viewCloseAporteModal,title:i.aportesData.modal.title},{default:(0,n.w5)((()=>[(0,n._)("div",xi,[(0,n._)("div",Mi,[(0,n._)("div",$i,[Ai,(0,n._)("span",Si,(0,P.zw)(i.formatMoneyBRL(i.aportesData.goalBalance.meta)),1)]),(0,n._)("div",Fi,[Vi,(0,n._)("span",zi,(0,P.zw)(i.formatMoneyBRL(i.aportesData.goalBalance.goalContributions)),1)]),(0,n._)("div",Ti,[Ii,(0,n._)("span",Ni,(0,P.zw)(i.formatMoneyBRL(i.aportesData.goalBalance.goalRemaining)),1)]),(0,n._)("div",Li,[Ri,(0,n._)("span",Wi,(0,P.zw)(i.aportesData.goalBalance.percentage.toFixed(2))+"%",1)])])]),(0,n._)("div",Bi,[(0,n._)("div",ji,[Ui,(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":t[9]||(t[9]=a=>i.aportesData.goalContribution.description=a),class:"form-control"},null,512),[[o.nr,i.aportesData.goalContribution.description]])]),(0,n._)("div",qi,[Ei,(0,n.Wm)(m,{class:"form-control",modelValue:i.aportesData.goalContribution.amount,"onUpdate:modelValue":t[10]||(t[10]=a=>i.aportesData.goalContribution.amount=a),options:i.data.moneyInputConfig},null,8,["modelValue","options"])]),(0,n._)("div",Oi,[Yi,(0,n.wy)((0,n._)("select",{"onUpdate:modelValue":t[11]||(t[11]=a=>i.aportesData.goalContribution.operation_type=a),class:"form-select"},Ki,512),[[o.bM,i.aportesData.goalContribution.operation_type]])]),(0,n._)("div",Qi,[(0,n._)("button",{onClick:t[12]||(t[12]=a=>i.submitGoalContribution()),class:"btn btn-primary app-button btn-cadastrar-aporte"},"Cadastrar")])]),(0,n._)("table",Ji,[Xi,(0,n._)("tbody",al,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.aportesData.goalContributionsPaginated,(a=>((0,n.wg)(),(0,n.iD)("tr",tl,[(0,n._)("td",el,(0,P.zw)(a.description),1),(0,n._)("td",ol,[(0,n.Wm)(v,{value:a.amount},null,8,["value"])]),(0,n._)("td",null,[(0,n._)("button",{type:"button",onClick:t=>i.ViewDeleteGoalContribution(a.id,a.description),class:"btn btn-outline-danger"},[(0,n.Wm)(d,{icon:"fa-solid fa-trash"})],8,nl)])])))),256))])]),i.aportesData.goalContributionsPaginated.length?((0,n.wg)(),(0,n.iD)("div",il,[(0,n._)("div",ll,[(0,n._)("nav",sl,[(0,n._)("ul",rl,[(0,n._)("li",cl,[(0,n._)("a",{onClick:t[13]||(t[13]=(0,o.iM)((a=>i.navigatePagesAportes("prev")),["prevent"])),class:"page-link",href:"#"},"Anterior")]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.aportesData.goalContributionsPagination.pages,(a=>((0,n.wg)(),(0,n.iD)("li",dl,["..."===a?((0,n.wg)(),(0,n.iD)("span",ul,"...")):((0,n.wg)(),(0,n.iD)("a",{key:1,onClick:(0,o.iM)((t=>i.linkNavigationPageArray(a-1)),["prevent"]),class:(0,P.C_)(["page-link",{active:i.aportesData.goalContributionsPagination.currentPage===a-1}]),href:"#"},(0,P.zw)(a),11,pl))])))),256)),(0,n._)("li",gl,[(0,n._)("a",{onClick:t[14]||(t[14]=(0,o.iM)((a=>i.navigatePagesAportes("next")),["prevent"])),class:"page-link",href:"#"},"Proximo")])])])])])):(0,n.kq)("",!0)])),_:1},8,["onCloseModal","title"])):(0,n.kq)("",!0),i.aportesData.loading.show?((0,n.wg)(),(0,n.j4)(c,{key:7,message:"Processando aguarde..."})):(0,n.kq)("",!0)])}const vl=a=>{a.loading.show=!0;let t=j.getters.userData.user_id,e=`/users/${t}/goals/${a.goalId}/contributions`;q.get(e).then((t=>{a.loading.show=!1,a.goalContributions=t.data.map((a=>"negative"===a.operation_type?(a.amount*=-1,a):a)),a.goalContributionsPaginated=ue(a.goalContributions,a.goalContributionsPagination.limit,a.goalContributionsPagination.currentPage),a.goalContributionsPagination.pages=ce(a.goalContributionsPagination.currentPage+1,a.goalContributions.length,a.goalContributionsPagination.limit,5)})).catch((t=>{a.loading.show=!1,G("Atenção","Falha ao obter lista de dados")}))},_l=a=>{let t=j.getters.userData.user_id;delete a.goalContribution.id,a.goalContribution.amount=ln(a.goalContribution.amount),a.loading.show=!0,q.post(`/users/${t}/goals/${a.goalId}/contributions`,a.goalContribution).then((t=>{a.loading.show=!1,Z("Sucesso!!","Cadastro Realizado com sucesso!","success").then((t=>{a.goalContribution.description="",a.goalContribution.amount="",a.goalContribution.operation_type="",vl(a),xl(a,!0)}))})).catch((t=>{a.loading.show=!1,G("Atenção","Falha ao realizar cadastro")}))},wl=a=>{a.loading.show=!0;let t=j.getters.userData.user_id;return q.delete(`/users/${t}/goals/${a.goalId}/contributions/${a.goalContribution.id}`).then((t=>{a.loading.show=!1,vl(a),xl(a,!0)})).catch((t=>{a.loading.show=!1,G("Atenção","Falha ao deletar registro")}))},bl=(0,D.qj)({loading:{show:!1},modal:{show:!1,title:"test"},goalId:"",goalContributions:[],goalContributionsPaginated:[],goalContribution:{id:"",description:"",amount:"",operation_type:""},goalBalance:{meta:0,goalContributions:0,goalRemaining:0,percentage:0},goalContributionsPagination:{currentPage:0,limit:5,pages:[]}}),hl=a=>{bl.modal.show=!0,bl.modal.title=`${a.description} - Aportes`,bl.goalId=a.id,bl.goalBalance.meta=a.amount,bl.goalBalance.goalContributions=a.balance.goal_contributions,bl.goalBalance.goalRemaining=a.balance.goal_remaining,bl.goalBalance.percentage=a.balance.percentage,vl(bl)},fl=a=>{if("prev"===a&&bl.goalContributionsPagination.currentPage>0)return bl.goalContributionsPagination.currentPage-=1,bl.goalContributionsPaginated=ue(bl.goalContributions,bl.goalContributionsPagination.limit,bl.goalContributionsPagination.currentPage),void(bl.goalContributionsPagination.pages=ce(bl.goalContributionsPagination.currentPage+1,bl.goalContributions.length,bl.goalContributionsPagination.limit,5));if("next"===a){let a=Math.ceil(bl.goalContributions.length/bl.goalContributionsPagination.limit),t=bl.goalContributionsPagination.currentPage+1;if(t>=a)return;bl.goalContributionsPagination.currentPage+=1,bl.goalContributionsPaginated=ue(bl.goalContributions,bl.goalContributionsPagination.limit,bl.goalContributionsPagination.currentPage),bl.goalContributionsPagination.pages=ce(bl.goalContributionsPagination.currentPage+1,bl.goalContributions.length,bl.goalContributionsPagination.limit,5)}},yl=a=>{bl.goalContributionsPagination.currentPage=a,bl.goalContributionsPaginated=ue(bl.goalContributions,bl.goalContributionsPagination.limit,bl.goalContributionsPagination.currentPage),bl.goalContributionsPagination.pages=ce(a,bl.goalContributions.length,bl.goalContributionsPagination.limit,5)},Cl=a=>{bl.modal.show=!1,Pl(a)};let kl=a=>{bl.goalContribution.description?bl.goalContribution.amount?bl.goalContribution.operation_type?_l(bl):G("Atenção","Preencha o campo tipo"):G("Atenção","Preencha o campo valor"):G("Atenção","Preencha o campo descrição")};const Dl=(a,t)=>{K("Atenção",`Deseja deletar ${t}?`,(()=>{bl.goalContribution.id=a,wl(bl)}))},Pl=((0,n.Fl)((()=>bl.goalContributions.length>0)),a=>{a.loading.show=!0;let t=j.getters.userData.user_id,e=`/users/${t}/goals?limit=${a.pagination.limit}&page=${a.pagination.current_page}`;a.filter.description&&(e=e.concat(`&description=${a.filter.description}`)),q.get(e).then((t=>{a.loading.show=!1,a.pagination.currentPage=t.data.current_page,a.pagination.totalPages=t.data.total_pages,a.pagination.totalRows=t.data.total_rows,a.goals=t.data.items})).catch((t=>{a.loading.show=!1,G("Atenção","Falha ao obter lista de dados")}))}),xl=(a,t)=>{a.loading.show=!0;let e=j.getters.userData.user_id,o="";o=t?`/users/${e}/goals/${bl.goalId}`:`/users/${e}/goals/${a.goal.id}`,q.get(o).then((e=>{a.loading.show=!1,t||(a.goal.description=e.data.description,a.goal.amount=e.data.amount),a.goalId=e.data.id,a.goalBalance.goalContributions=e.data.balance.goal_contributions,a.goalBalance.goalRemaining=e.data.balance.goal_remaining,a.goalBalance.percentage=e.data.balance.percentage})).catch((t=>{a.loading.show=!1,console.log(t),G("Atenção","Falha ao obter dados")}))},Ml=a=>{a.loading.show=!0,a.goal.amount=ln(a.goal.amount);let t=j.getters.userData.user_id;q.post(`/users/${t}/goals`,a.goal).then((t=>{a.loading.show=!1,Z("Sucesso!!","Cadastro Realizado com sucesso!").then((t=>{a.goal.description="",a.goal.amount="",a.modal.show=!1,Pl(a)}))})).catch((t=>{a.loading.show=!1,G("Atenção","Falha ao realizar cadastro")}))},$l=a=>{a.loading.show=!1,a.goal.amount=ln(a.goal.amount);let t=j.getters.userData.user_id;q.put(`/users/${t}/goals/${a.goal.id}`,a.goal).then((t=>{a.loading.show=!1,Z("Sucesso!!","Atualização realizada com sucesso!").then((t=>{t.isConfirmed&&(a.modal.show=!1,a.goal.description="",a.goal.amount="",Pl(a))}))})).catch((t=>{a.loading.show=!1,G("Atenção","Falha ao realizar atualização")}))},Al=a=>{a.loading.show=!0;let t=j.getters.userData.user_id;return q.delete(`/users/${t}/goals/${a.goal.id}`).then((t=>{a.loading.show=!1,Pl(a)})).catch((t=>{a.loading.show=!1,G("Atenção","Falha ao deletar registro")}))},Sl=(a,t)=>{""!==a.goal.description?""!==a.goal.amount?t():G("Atenção","Preencha o campo Meta"):G("Atenção","Preencha o campo Descrição")},Fl=(a,t)=>{if("prev"===t&&a.pagination.current_page>1)return a.pagination.current_page-=1,void Pl(a);if("next"===t){if(a.pagination.current_page>=a.pagination.totalPages)return;a.pagination.current_page+=1,Pl(a)}};var Vl={name:"goals",components:{MoneyFormat:re,NoContent:$n,CurrencyInput:Tn,Modal:Ce,Loading:la,PageTitle:Ua},setup(){const a=(0,D.qj)({modal:{title:"Novo cofrinho",icon:"",show:!1,operation:"new"},pageTitle:{title:"Cofrinhos",subtitle:"Gerencie suas metas",icon:"fa-solid fa-piggy-bank"},filter:{open:!0,description:"",range:""},loading:{show:!1},pagination:{pages:[],limit:15,current_page:1,totalPages:0,totalRows:0},goal:{id:"",description:"",amount:0},goals:[],goalBalance:{meta:0,goalContributions:0,goalRemaining:0,percentage:0},moneyInputConfig:{currency:"BRL",locale:"pt-BR",precision:2,autoDecimalDigits:!0}}),t=()=>{a.modal.show=!0,a.modal.operation="new",a.modal.title="Novo cofrinho",a.modal.icon="fa-solid fa-circle-plus"},e=()=>{a.modal.show=!1,a.goal.id="",a.goal.description="",a.goal.amount=0},o=()=>{Sl(a,(()=>{"new"===a.modal.operation?Ml(a):$l(a)}))},i=(t,e)=>{a.modal.show=!0,a.modal.operation="edit",a.modal.title=`Editar - ${e}`,a.modal.icon="fa-solid fa-pen-to-square",a.goal.id=t,xl(a)},l=(t,e)=>{K("Atenção",`Deseja deletar ${e}`,(()=>{a.goal.id=t,Al(a)}))},s=()=>{Pl(a)},r=t=>{Fl(a,t)},c=t=>{a.pagination.current_page=t,Pl(a)},d=()=>{Pl(a)},u=()=>{Cl(a)};(0,n.YP)((()=>a.goals),(t=>{a.pagination.current_page>1&&0===t.length&&(a.pagination.current_page-=1,Pl(a)),a.pagination.pages=ce(a.pagination.current_page,a.pagination.totalRows,a.pagination.limit,8)}));const p=(0,n.Fl)((()=>a.goals.length>0));return(0,n.bv)((()=>{Pl(a)})),{data:a,viewOpenModalForm:t,viewCloseModal:e,viewModalSaveData:o,viewOpenModalEditForm:i,viewDeleteGoalPrompt:l,viewChangeLimitPerPage:s,viewListNavigation:r,viewChangePageByPageNumber:c,viewSearchFilter:d,viewCloseAporteModal:u,ViewDeleteGoalContribution:Dl,submitGoalContribution:kl,closeModal:Cl,linkNavigationPageArray:yl,navigatePagesAportes:fl,openAportesModal:hl,formatMoneyBRL:ie,isData:p,aportesData:bl}}};const zl=(0,l.Z)(Vl,[["render",ml],["__scopeId","data-v-0749a79a"]]);var Tl=zl;const Il=a=>((0,n.dD)("data-v-7a97e0d1"),a=a(),(0,n.Cn)(),a),Nl={class:"container-fluid"},Ll=Il((()=>(0,n._)("ul",{class:"nav nav-tabs",id:"myTabs",role:"tablist"},[(0,n._)("li",{class:"nav-item",role:"presentation"},[(0,n._)("a",{class:"nav-link active",id:"tab1-tab","data-bs-toggle":"tab",href:"#tab1",role:"tab","aria-controls":"tab1","aria-selected":"true"},"Balanço anual")]),(0,n._)("li",{class:"nav-item",role:"presentation"},[(0,n._)("a",{class:"nav-link",id:"tab2-tab","data-bs-toggle":"tab",href:"#tab2",role:"tab","aria-controls":"tab2","aria-selected":"false"},"Balanço mensal")])],-1))),Rl={class:"tab-content",id:"myTabsContent"},Wl={class:"tab-pane fade show active",id:"tab1",role:"tabpanel","aria-labelledby":"tab1-tab"},Bl={class:"container-fluid dash-expense-filter d-flex align-items-md-end justify-content-end"},jl=["value"],Ul=(0,n.uE)('<div class="container-fluid expense-chart-content" data-v-7a97e0d1><div class="row row-cols-1" data-v-7a97e0d1><div class="col-md-6 dashboard-columns" data-v-7a97e0d1><div class="card" data-v-7a97e0d1><div class="card-header dashboard-card-header" data-v-7a97e0d1><h4 data-v-7a97e0d1>Gasto anual</h4></div><div class="card-body" data-v-7a97e0d1><canvas id="expenseChart" height="180" data-v-7a97e0d1></canvas></div></div></div><div class="col-md-6 dashboard-columns" data-v-7a97e0d1><div class="card" data-v-7a97e0d1><div class="card-header dashboard-card-header" data-v-7a97e0d1><h4 data-v-7a97e0d1>Curva de gastos</h4></div><div class="card-body" data-v-7a97e0d1><canvas id="spending-curve" height="180" data-v-7a97e0d1></canvas></div></div></div></div></div>',1),ql={class:"tab-pane fade",id:"tab2",role:"tabpanel","aria-labelledby":"tab2-tab"},El={class:"container-fluid dash-filter"},Ol={class:"row row-cols-1 d-flex justify-content-end align-items-md-end"},Yl={class:"col-md-3"},Hl=Il((()=>(0,n._)("label",null,"Modulo",-1))),Gl=["value"],Zl={class:"col-md-4 period-filter-content"},Kl=Il((()=>(0,n._)("label",null,"Periodo",-1))),Ql={style:{display:"flex",width:"100%"}},Jl=["value"],Xl=Il((()=>(0,n._)("span",{style:{"padding-left":"3px","padding-right":"11px","padding-top":"6px"}},"até",-1))),as=["value"],ts={class:"row row-cols-1"},es={class:"col-md-6"},os={class:"card pie-graph-card"},ns=Il((()=>(0,n._)("div",{class:"card-header dashboard-card-header"},[(0,n._)("h3",null,"Gastos por categoria")],-1))),is={class:"card-body"},ls=Il((()=>(0,n._)("div",{class:"pie-chart-content"},[(0,n._)("canvas",{id:"expense-per-category",height:"300"})],-1))),ss={class:"col-md-6"},rs={class:"card pie-graph-card"},cs=Il((()=>(0,n._)("div",{class:"card-header dashboard-card-header"},[(0,n._)("h3",null,"Ranking de gastos")],-1))),ds={class:"card-body"},us={key:1,class:"categories-container"},ps={class:"categories-progress"},gs={class:"ranking-title"},ms=["onClick"],vs={class:"progress",style:{height:"20px"}},_s={class:"modal-table-content",style:{width:"100%"}},ws={class:"table table-striped"},bs=Il((()=>(0,n._)("thead",{class:"page-table-header"},[(0,n._)("tr",{class:"page-table-header"},[(0,n._)("td",null,"Data"),(0,n._)("td",null,"Conta origem"),(0,n._)("td",null,"Descrição"),(0,n._)("td",null,"Parcelado"),(0,n._)("td",null,"Qtd Parcelas"),(0,n._)("td",null,"Numero Parcela"),(0,n._)("td",null,"Valor")])],-1))),hs={class:"page-table-body"},fs={"data-title":"Data"},ys={"data-title":"Conta origem",class:"nowrap"},Cs={"data-title":"Descrição",class:"nowrap"},ks={"data-title":"Parcelado"},Ds={"data-title":"Qtd Parcelas"},Ps={"data-title":"Numero Parcela"},xs={"data-title":"Valor"};function Ms(a,t,e,i,l,s){const r=(0,n.up)("page-title"),c=(0,n.up)("no-content"),d=(0,n.up)("font-awesome-icon"),u=(0,n.up)("v-date-picker"),p=(0,n.up)("loading"),g=(0,n.up)("modal");return(0,n.wg)(),(0,n.iD)("div",Nl,[(0,n.Wm)(r,{"page-subtitle":"Gerencie suas finanças","page-title":"Dashboard",icon:"fa-solid fa-chart-line"}),Ll,(0,n._)("div",Rl,[(0,n._)("div",Wl,[(0,n._)("div",Bl,[(0,n.wy)((0,n._)("select",{onChange:t[0]||(t[0]=(...a)=>i.updateBarChart&&i.updateBarChart(...a)),"onUpdate:modelValue":t[1]||(t[1]=a=>i.data.filters.year=a),class:"form-select"},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.data.years,(a=>((0,n.wg)(),(0,n.iD)("option",{value:a},(0,P.zw)(a),9,jl)))),256))],544),[[o.bM,i.data.filters.year]])]),i.data.dashboard.expense.length?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(c,{key:0,message:"Não há dados para mostrar"})),Ul]),(0,n._)("div",ql,[(0,n._)("div",El,[(0,n._)("div",Ol,[(0,n._)("div",Yl,[Hl,(0,n.wy)((0,n._)("select",{"onUpdate:modelValue":t[2]||(t[2]=a=>i.data.filters.module=a),class:"form-select"},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.data.accountTypes,(a=>((0,n.wg)(),(0,n.iD)("option",{value:a.slug_name},(0,P.zw)(a.description),9,Gl)))),256))],512),[[o.bM,i.data.filters.module]])]),(0,n._)("div",Zl,[Kl,(0,n.Wm)(u,{modelValue:i.data.filters.range,"onUpdate:modelValue":t[4]||(t[4]=a=>i.data.filters.range=a),mode:"date","is-range":""},{default:(0,n.w5)((({inputValue:a,inputEvents:e,isDragging:o})=>[(0,n._)("div",Ql,[(0,n._)("input",(0,n.dG)({class:"form-control",style:{"margin-right":"10px"},value:a.start},(0,n.mx)(e.start,!0)),null,16,Jl),Xl,(0,n._)("input",(0,n.dG)({disabled:"",class:"form-control",value:a.end},(0,n.mx)(e.end,!0)),null,16,as),(0,n._)("button",{type:"button",onClick:t[3]||(t[3]=(...a)=>i.searchFilter&&i.searchFilter(...a)),style:{"margin-left":"13px",height:"36px"},class:"btn btn-primary app-button"},[(0,n.Wm)(d,{icon:"fa-solid fa-search"})])])])),_:1},8,["modelValue"])])])]),(0,n._)("div",ts,[(0,n._)("div",es,[(0,n._)("div",os,[ns,(0,n._)("div",is,[i.data.dashboard.expensePerCategory.length?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(c,{key:0,message:"Não há dados para mostrar"})),ls])])]),(0,n._)("div",ss,[(0,n._)("div",rs,[cs,(0,n._)("div",ds,[i.data.dashboard.expensePerCategory.length?((0,n.wg)(),(0,n.iD)("div",us,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.data.dashboard.expensePerCategory,(a=>((0,n.wg)(),(0,n.iD)("div",ps,[(0,n._)("h4",gs,[(0,n.Uk)((0,P.zw)(a.description)+" - "+(0,P.zw)(s.formatMoneyBRL(a.amount))+" ",1),(0,n._)("a",{href:"",onClick:(0,o.iM)((t=>i.viewOpenModalRanking(a.description,a.id,a.amount)),["prevent"]),class:"chart-ranking-details-btn"},[(0,n.Wm)(d,{icon:"fa-solid fa-arrow-up-right-from-square"})],8,ms)]),(0,n._)("div",vs,[(0,n._)("div",{class:"progress-bar bar-animate",role:"progressbar",style:(0,P.j5)(`width: ${a.percentage}%; background:${i.getChartColor(a.description)}`),"aria-valuenow":"25","aria-valuemin":"0","aria-valuemax":"100"},null,4)])])))),256))])):((0,n.wg)(),(0,n.j4)(c,{key:0,message:"Não há dados no período",style:{position:"relative",top:"50%"}}))])])])])])]),i.data.loading.show?((0,n.wg)(),(0,n.j4)(p,{key:0,message:"Processando aguarde..."})):(0,n.kq)("",!0),i.data.chartRankingModal.show?((0,n.wg)(),(0,n.j4)(g,{key:1,title:i.data.chartRankingModal.title,onCloseModal:t[5]||(t[5]=a=>i.data.chartRankingModal.show=!1),"show-action-buttons":!1,"show-close-button":!0},{default:(0,n.w5)((()=>[(0,n._)("div",_s,[(0,n._)("table",ws,[bs,(0,n._)("tbody",hs,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.data.transactionList,(a=>((0,n.wg)(),(0,n.iD)("tr",null,[(0,n._)("td",fs,(0,P.zw)(a.date),1),(0,n._)("td",ys,(0,P.zw)(a.account.description),1),(0,n._)("td",Cs,(0,P.zw)(a.description),1),(0,n._)("td",ks,(0,P.zw)(a.installment?"Sim":"Não"),1),(0,n._)("td",Ds,(0,P.zw)(a.amount_installment),1),(0,n._)("td",Ps,(0,P.zw)(a.current_installment),1),(0,n._)("td",xs,(0,P.zw)(s.formatMoneyBRL(a.amount)),1)])))),256))])])])])),_:1},8,["title"])):(0,n.kq)("",!0)])}var $s=e(6170);e(1131);function As(a){let t=$s.ZP.getChart(a);void 0!==t&&t.destroy()}const Ss=async a=>{let t=j.getters.userData.user_id;try{a.loading.show=!0;let e=`/users/${t}/dashboard/invoice-report?competence_year=${a.filters.year}`,o=await q.get(e);if(a.dashboard.expense=o.data,!a.dashboard.expense.length)return a.loading.show=!1,As("expenseChart"),void As("spending-curve");As("spending-curve"),As("expenseChart");new $s.ZP(document.getElementById("expenseChart"),{scales:{y:{beginAtZero:!0}},responsive:!0,maintainAspectRatio:!1,type:"bar",options:{plugins:{legend:{display:!0,position:"bottom"},tooltip:{enabled:!0,callbacks:{label:function(a){return ie(a.raw)}}}}},data:{labels:a.dashboard.expense.map((a=>a.month)),datasets:[{label:"Gastos Mensais",data:a.dashboard.expense.map((a=>a.amount)),backgroundColor:["rgba(255, 99, 132, 0.5)","rgba(54, 162, 235, 0.5)","rgba(255, 206, 86, 0.5)"]}]}}),new $s.ZP(document.getElementById("spending-curve"),{scales:{y:{beginAtZero:!0}},responsive:!0,maintainAspectRatio:!1,type:"line",options:{plugins:{legend:{display:!0,position:"bottom"},tooltip:{enabled:!0,callbacks:{label:function(a){return ie(a.raw)}}}}},layout:{padding:{top:200}},data:{labels:a.dashboard.expense.map((a=>a.month)),datasets:[{label:"Curva de gastos",data:a.dashboard.expense.map((a=>a.amount))}]}});a.loading.show=!1}catch(e){a.loading.show=!1,G("Atenção","Falha ao obter dados do dashboard")}},Fs=async a=>{try{a.loading.show=!0;let t=j.getters.userData.user_id,e=`/users/${t}/dashboard/expense-per-category?initial_date=${Rt(a.filters.range.start)}&end_date=${Rt(a.filters.range.end)}&module=${a.filters.module}`,o=await q.get(e);if(a.dashboard.expensePerCategory=o.data,!a.dashboard.expensePerCategory.length)return a.loading.show=!1,void As("expense-per-category");As("expense-per-category");let n=new $s.ZP(document.getElementById("expense-per-category"),{type:"pie",responsive:!0,maintainAspectRatio:!1,options:{plugins:{legend:{display:!0,position:"bottom"},tooltip:{enabled:!0,callbacks:{label:function(a){return parseFloat(a.raw).toFixed(2)+"%"}}}}},data:{labels:a.dashboard.expensePerCategory.map((a=>a.description)),datasets:[{data:a.dashboard.expensePerCategory.map((a=>a.percentage))}]}}),i=n.data.labels,l=n.data.datasets[0].backgroundColor,s=[];i.forEach(((a,t)=>{s.push({description:a,color:l[t]})})),a.config.expensePerCategoryBackgroundColors=s,a.loading.show=!1}catch(t){console.log(t),a.loading.show=!1,G("Atenção","Falha ao obter dados do dashboard")}};var Vs={name:"dashboard",methods:{formatMoneyBRL:ie},components:{Modal:Ce,Loading:la,NoContent:$n,PageTitle:Ua},setup(){const a=(0,D.qj)({loading:{show:!1},categoryId:"",years:[],accountTypes:[],transactionList:[],filters:{year:"",range:null,module:"cartao_credito"},dashboard:{expense:[],expensePerCategory:[]},chartRankingModal:{show:!1,title:"",total:""},config:{expensePerCategoryBackgroundColors:[]}}),t=()=>{let t=(new Date).getFullYear();const e=5;for(let o=t;o<=t+e;o++)a.years.push(o);a.filters.year=t},e=()=>{Ss(a)},o=()=>{Fs(a)},i=t=>{let e=a.config.expensePerCategoryBackgroundColors.filter((a=>a.description===t));return e[0].color},l=(t,e,o)=>{a.chartRankingModal.show=!0,a.chartRankingModal.title=t,a.chartRankingModal.total=o,a.categoryId=e,rn(a)};return(0,n.bv)((()=>{const e=new Date;a.filters.range={start:new Date(e.getFullYear(),e.getMonth(),1),end:new Date(e.getFullYear(),e.getMonth()+1,0)},t(),Ss(a),Fs(a),De(a)})),{data:a,updateBarChart:e,searchFilter:o,getChartColor:i,viewOpenModalRanking:l}}};const zs=(0,l.Z)(Vs,[["render",Ms],["__scopeId","data-v-7a97e0d1"]]);var Ts=zs;const Is=a=>((0,n.dD)("data-v-0c5a412c"),a=a(),(0,n.Cn)(),a),Ns={class:"container-fluid"},Ls={class:"page-action"},Rs={class:"show-per-page"},Ws=(0,n.uE)('<option value="5" data-v-0c5a412c>5</option><option value="10" data-v-0c5a412c>10</option><option value="15" data-v-0c5a412c>15</option><option value="50" data-v-0c5a412c>50</option><option value="100" data-v-0c5a412c>100</option><option value="500" data-v-0c5a412c>500</option>',6),Bs=[Ws],js={key:0,class:"filter-body"},Us={class:"row row-cols-1"},qs={class:"col-md-3"},Es=Is((()=>(0,n._)("label",{class:"form-label"},"Descrição",-1))),Os={class:"input-group"},Ys={class:"col-md-3"},Hs={class:"type-account-filter",style:{"padding-top":"8px"}},Gs=Is((()=>(0,n._)("label",null,"Conta",-1))),Zs=Is((()=>(0,n._)("option",{value:""},"Selecione uma conta",-1))),Ks=["value"],Qs={class:"col-md-4"},Js=Is((()=>(0,n._)("label",{class:"form-label",style:{padding:"0"}},"Data Criação",-1))),Xs={class:"calendar-content d-flex"},ar={class:"d-flex"},tr=["value"],er=Is((()=>(0,n._)("span",{style:{padding:"10px"}},"até",-1))),or=["value"],nr={key:2,class:"table table-striped page-table table-hover"},ir=Is((()=>(0,n._)("thead",{class:"page-table-header"},[(0,n._)("tr",null,[(0,n._)("td",null,"Conta Origem"),(0,n._)("td",null,"Tipo"),(0,n._)("td",null,"Descrição"),(0,n._)("td",null,"Nome fatura"),(0,n._)("td",null,"Data"),(0,n._)("td",null,"Data Criação"),(0,n._)("td",null,"Tipo"),(0,n._)("td",null,"Categoria"),(0,n._)("td",null,"Valor"),(0,n._)("td",null,"Parcelado"),(0,n._)("td",null,"Qtd.Parcelas"),(0,n._)("td",null,"N.Parcela")])],-1))),lr={class:"page-table-body"},sr={"data-title":"Conta origem"},rr={"data-title":"Tipo"},cr={"data-title":"Descrição"},dr={"data-title":"Nome fatura"},ur={"data-title":"Data"},pr={"data-title":"Data Criação"},gr={"data-title":"Tipo"},mr={"data-title":"Categoria"},vr={"data-title":"Valor"},_r={"data-title":"Parcelado"},wr={"data-title":"Qtd.Parcelas"},br={"data-title":"N.Parcela"},hr={class:"row"},fr={class:"col-12"},yr={"aria-label":"Page navigation example"},Cr={class:"pagination"},kr={class:"page-item"},Dr={class:"page-item"},Pr={key:0,class:"page-link"},xr=["onClick"],Mr={class:"page-item"};function $r(a,t,e,i,l,s){const r=(0,n.up)("page-title"),c=(0,n.up)("v-date-picker"),d=(0,n.up)("font-awesome-icon"),u=(0,n.up)("no-content"),p=(0,n.up)("money-format"),g=(0,n.up)("loading");return(0,n.wg)(),(0,n.iD)("div",Ns,[(0,n.Wm)(r,{"page-subtitle":"Consulte historico de lançamentos em todas as contas",icon:"fa-solid fa-clock","page-title":"Historico Transações"}),(0,n._)("div",Ls,[(0,n._)("div",Rs,[(0,n.wy)((0,n._)("select",{class:"form-select show-pages",onChange:t[0]||(t[0]=(...a)=>i.viewSearchFilter&&i.viewSearchFilter(...a)),"onUpdate:modelValue":t[1]||(t[1]=a=>i.data.pagination.limit=a)},Bs,544),[[o.bM,i.data.pagination.limit]])])]),i.data.filter.open?((0,n.wg)(),(0,n.iD)("div",js,[(0,n._)("div",Us,[(0,n._)("div",qs,[Es,(0,n._)("div",Os,[(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=a=>i.data.filter.description=a),class:"form-control"},null,512),[[o.nr,i.data.filter.description]])])]),(0,n._)("div",Ys,[(0,n._)("div",Hs,[Gs,(0,n.wy)((0,n._)("select",{"onUpdate:modelValue":t[3]||(t[3]=a=>i.data.filter.accountId=a),class:"form-select"},[Zs,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.data.accounts,(a=>((0,n.wg)(),(0,n.iD)("option",{value:a.id},(0,P.zw)(a.description),9,Ks)))),256))],512),[[o.bM,i.data.filter.accountId]])])]),(0,n._)("div",Qs,[Js,(0,n._)("div",Xs,[(0,n.Wm)(c,{mode:"date",modelValue:i.data.filter.range,"onUpdate:modelValue":t[4]||(t[4]=a=>i.data.filter.range=a),"is-range":""},{default:(0,n.w5)((({inputValue:a,inputEvents:t,isDragging:e})=>[(0,n._)("div",ar,[(0,n._)("input",(0,n.dG)({class:"form-control",value:a.start},(0,n.mx)(t.start,!0)),null,16,tr),er,(0,n._)("input",(0,n.dG)({disabled:"",style:{"margin-right":"10px"},class:"form-control",value:a.end},(0,n.mx)(t.end,!0)),null,16,or)])])),_:1},8,["modelValue"]),(0,n._)("button",{type:"button",onClick:t[5]||(t[5]=(...a)=>i.viewSearchFilter&&i.viewSearchFilter(...a)),class:"btn btn-primary app-button"},[(0,n.Wm)(d,{icon:"fa-solid fa-search"})])])])])])):(0,n.kq)("",!0),i.isRegisters?((0,n.wg)(),(0,n.iD)("table",nr,[ir,(0,n._)("tbody",lr,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.data.transactions,(a=>((0,n.wg)(),(0,n.iD)("tr",null,[(0,n._)("td",sr,(0,P.zw)(a.account.description),1),(0,n._)("td",rr,(0,P.zw)(a.account.account_type.description),1),(0,n._)("td",cr,(0,P.zw)(a.description),1),(0,n._)("td",dr,(0,P.zw)(s.formatEmptyValue(a.installment_description)),1),(0,n._)("td",ur,(0,P.zw)(a.date),1),(0,n._)("td",pr,(0,P.zw)(a.created_at),1),(0,n._)("td",gr,[(0,n._)("span",null,(0,P.zw)(a.transaction_type.description),1)]),(0,n._)("td",mr,(0,P.zw)(a.category.description),1),(0,n._)("td",vr,[(0,n.Wm)(p,{value:a.amount},null,8,["value"])]),(0,n._)("td",_r,(0,P.zw)(s.formatParceladoLabel(a.installment)),1),(0,n._)("td",wr,(0,P.zw)(s.formatEmptyValue(a.amount_installment)),1),(0,n._)("td",br,(0,P.zw)(s.formatEmptyValue(a.current_installment)),1)])))),256))])])):((0,n.wg)(),(0,n.j4)(u,{key:1,message:"Não há registros"})),(0,n._)("div",hr,[(0,n._)("div",fr,[(0,n._)("nav",yr,[(0,n._)("ul",Cr,[(0,n._)("li",kr,[(0,n._)("a",{onClick:t[6]||(t[6]=(0,o.iM)((a=>i.viewListNavigation("prev")),["prevent"])),class:"page-link",href:"#"},"Anterior")]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.data.pagination.pages,(a=>((0,n.wg)(),(0,n.iD)("li",Dr,["..."===a?((0,n.wg)(),(0,n.iD)("span",Pr,"...")):((0,n.wg)(),(0,n.iD)("a",{key:1,onClick:(0,o.iM)((t=>i.viewChangePageByPageNumber(a)),["prevent"]),class:(0,P.C_)(["page-link",{active:i.data.pagination.current_page===a}]),href:"#"},(0,P.zw)(a),11,xr))])))),256)),(0,n._)("li",Mr,[(0,n._)("a",{onClick:t[7]||(t[7]=(0,o.iM)((a=>i.viewListNavigation("next")),["prevent"])),class:"page-link",href:"#"},"Proximo")])])])])]),i.data.loading.show?((0,n.wg)(),(0,n.j4)(g,{key:3,message:"Processando aguarde..."})):(0,n.kq)("",!0)])}const Ar=a=>{let t=j.getters.userData.user_id;a.loading.show=!0;let e=`/users/${t}/transactions-history?limit=${a.pagination.limit}&page=${a.pagination.current_page}&initial_date=${Rt(a.filter.range.start)}&end_date=${Rt(a.filter.range.end)}`;null!=a.filter.description&&""!==a.filter.description&&(e=e.concat(`&description=${a.filter.description}`)),null!=a.filter.accountId&&""!==a.filter.accountId&&(e=e.concat(`&account_id=${a.filter.accountId}`)),q.get(e).then((t=>{a.loading.show=!1,a.pagination.current_page=t.data.current_page,a.pagination.totalPages=t.data.total_pages,a.pagination.totalRows=t.data.total_rows,a.transactions=t.data.items})).catch((t=>{a.loading.show=!1,G("Atenção","Falha ao obter transações")}))};var Sr={methods:{formatParceladoLabel:fn,formatEmptyValue:yn},components:{Loading:la,MoneyFormat:re,NoContent:$n,PageTitle:Ua},setup(){const a=(0,D.qj)({loading:{show:!1},accountTypes:[],accounts:[],filter:{open:!0,description:"",range:"",accountId:""},pagination:{pages:[],limit:15,current_page:1,totalPages:0,totalRows:0},transactions:[]}),t=t=>{if("prev"===t&&a.pagination.current_page>1)return a.pagination.current_page-=1,void Ar(a);if("next"===t){if(a.pagination.current_page>=a.pagination.totalPages)return;a.pagination.current_page+=1,Ar(a)}},e=(0,n.Fl)((()=>a.transactions.length>0)),o=t=>{a.pagination.current_page=t,Ar(a)},i=()=>{Ar(a)};return(0,n.YP)((()=>a.transactions),(t=>{a.pagination.current_page>1&&0===t.length&&(a.pagination.current_page-=1,Ar(a)),a.pagination.pages=ce(a.pagination.current_page,a.pagination.totalRows,a.pagination.limit,8)})),(0,n.bv)((()=>{Qt(a),Ar(a),De(a),Yt(a)})),{data:a,isRegisters:e,viewListNavigation:t,viewChangePageByPageNumber:o,viewSearchFilter:i}}};const Fr=(0,l.Z)(Sr,[["render",$r],["__scopeId","data-v-0c5a412c"]]);var Vr=Fr;const zr=[{path:"/",name:"login",component:ca},{path:"/app",name:"app",redirect:"/app/modules",component:Ma,children:[{path:"/app/modules",name:"modules",component:Oa},{path:"/app/modules/:module",name:"conta_module",component:$e},{path:"/app/modules/:module/:id/transactions",name:"transanctions_module",component:Ln},{path:"/app/modules/cofrinhos",name:"goals_module",component:Tl},{path:"/app/modules/dashboard",name:"dashboard_module",component:Ts},{path:"/app/modules/transaction-history",name:"transaction_history",component:Vr}]}],Tr=(0,u.p7)({history:(0,u.r5)(),routes:zr});Tr.beforeEach(((a,t)=>{if("login"!==a.name){let a=j.getters.userData;if(!j.getters.isAuth)return Tr.push({name:"login"});if(""===a.token||!a.hasOwnProperty("token"))return Tr.push({name:"login"});O(a.token).catch((a=>(j.commit("clearState"),Tr.push({name:"login"}))))}}));var Ir=Tr,Nr=(e(1800),e(3494)),Lr=e(8539),Rr=e(7108);Nr.vI.add(Lr.J9Y,Lr.dLy,Lr.LjC,Lr.mXR,Lr.Ma4,Lr.KtF,Lr.G_j,Lr.Yai,Lr.$aW,Lr.wn1,Lr.acZ,Lr.eFW,Lr.Ozh,Lr.Stf,Lr.Quw,Lr.aLp,Lr.wlW,Lr.fV7,Lr.xiG,Lr.Yai,Lr.SZw,Lr.Zrf),(0,o.ri)(c).use(j).use(Ir).use(Rr.ZP).component("font-awesome-icon",Da.GN).mount("#app")},2480:function(){}},t={};function e(o){var n=t[o];if(void 0!==n)return n.exports;var i=t[o]={exports:{}};return a[o].call(i.exports,i,i.exports,e),i.exports}e.m=a,function(){var a=[];e.O=function(t,o,n,i){if(!o){var l=1/0;for(d=0;d<a.length;d++){o=a[d][0],n=a[d][1],i=a[d][2];for(var s=!0,r=0;r<o.length;r++)(!1&i||l>=i)&&Object.keys(e.O).every((function(a){return e.O[a](o[r])}))?o.splice(r--,1):(s=!1,i<l&&(l=i));if(s){a.splice(d--,1);var c=n();void 0!==c&&(t=c)}}return t}i=i||0;for(var d=a.length;d>0&&a[d-1][2]>i;d--)a[d]=a[d-1];a[d]=[o,n,i]}}(),function(){e.n=function(a){var t=a&&a.__esModule?function(){return a["default"]}:function(){return a};return e.d(t,{a:t}),t}}(),function(){e.d=function(a,t){for(var o in t)e.o(t,o)&&!e.o(a,o)&&Object.defineProperty(a,o,{enumerable:!0,get:t[o]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(a){if("object"===typeof window)return window}}()}(),function(){e.o=function(a,t){return Object.prototype.hasOwnProperty.call(a,t)}}(),function(){e.r=function(a){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})}}(),function(){e.p="/"}(),function(){var a={143:0};e.O.j=function(t){return 0===a[t]};var t=function(t,o){var n,i,l=o[0],s=o[1],r=o[2],c=0;if(l.some((function(t){return 0!==a[t]}))){for(n in s)e.o(s,n)&&(e.m[n]=s[n]);if(r)var d=r(e)}for(t&&t(o);c<l.length;c++)i=l[c],e.o(a,i)&&a[i]&&a[i][0](),a[i]=0;return e.O(d)},o=self["webpackChunkfront"]=self["webpackChunkfront"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=e.O(void 0,[998],(function(){return e(9698)}));o=e.O(o)})();
//# sourceMappingURL=app.757a315c.js.map
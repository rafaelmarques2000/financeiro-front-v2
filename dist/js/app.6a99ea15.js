(function(){var a={203:function(a,t,e){"use strict";var n=e(9242),o=e(3396);function i(a,t){const e=(0,o.up)("router-view");return(0,o.wg)(),(0,o.j4)(e)}var l=e(89);const s={},r=(0,l.Z)(s,[["render",i]]);var c=r,d=e(5431);(0,d.z)("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(a){console.error("Error during service worker registration:",a)}});e(7658);var u=e(2483);const p=a=>((0,o.dD)("data-v-72fe1a2c"),a=a(),(0,o.Cn)(),a),m={id:"login-view"},g={class:"container w-100 d-flex justify-content-center align-items-center"},v={class:"row"},f={class:"col-md-12"},w={class:"card px-5 py-5 login-card-custom"},_=p((()=>(0,o._)("div",{class:"col-md-12 justify-content-center"},[(0,o._)("h1",{class:"login-title"},[(0,o.Uk)("Graninha 4.0 "),(0,o._)("br"),(0,o._)("span",{class:"login-subtitle"},"Seja bem vindo, insira suas credencias para começar")])],-1))),b={class:"mb-4"},h={class:"mb-4"},y=p((()=>(0,o._)("div",{class:"mb-3"},[(0,o._)("button",{type:"submit",class:"btn btn-dark w-100 login-btn"},"Entrar")],-1))),D=p((()=>(0,o._)("div",{class:"login-footer d-flex justify-content-center"},[(0,o._)("p",null,"Graninha 4.0 - Todos os direitos reservados 2023")],-1)));function C(a,t,e,i,l,s){const r=(0,o.up)("alert"),c=(0,o.up)("loading");return(0,o.wg)(),(0,o.iD)("div",m,[(0,o._)("div",g,[(0,o._)("div",v,[(0,o._)("div",f,[(0,o._)("div",w,[_,i.data.alert.show?((0,o.wg)(),(0,o.j4)(r,{key:0,message:i.data.alert.message,"alert-type":"danger"},null,8,["message"])):(0,o.kq)("",!0),i.data.showLoading?((0,o.wg)(),(0,o.j4)(c,{key:1,message:"processando aguarde..."})):(0,o.kq)("",!0),(0,o._)("form",{onSubmit:t[2]||(t[2]=(0,n.iM)(((...a)=>i.formSubmit&&i.formSubmit(...a)),["prevent"]))},[(0,o._)("div",b,[(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=a=>i.data.username=a),placeholder:"Digite seu usuário",class:"form-control login-input"},null,512),[[n.nr,i.data.username]])]),(0,o._)("div",h,[(0,o.wy)((0,o._)("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=a=>i.data.password=a),placeholder:"Digite sua senha",class:"form-control login-input"},null,512),[[n.nr,i.data.password]])]),y],32)]),D])])])])}var k=e(4870),S=e(7139);function x(a,t,e,n,i,l){return(0,o.wg)(),(0,o.iD)("div",{class:(0,S.C_)("alert alert-"+a.$props.alertType)},(0,S.zw)(a.$props.message),3)}var M={name:"alert",props:{alertType:{type:String,required:!0},message:{type:String,required:!0}}};const $=(0,l.Z)(M,[["render",x],["__scopeId","data-v-5f0555b0"]]);var P=$;const A=(a,t)=>{window.setTimeout(a,t)};var T=e(4161),F=e(65),I=e(5103),W=e(8082),O=e.n(W),N=e(680);const V="state",j="state",L=N.Z.get(V)||"dcefb8d7-17dd-45cd-8123-91e92b7fc52c",U=new I.ZP({storage:{getItem:()=>{const a=window.localStorage.getItem(j);if(a)try{const t=O().AES.decrypt(a,L);return JSON.parse(t.toString(O().enc.Utf8))}catch(t){window.localStorage.removeItem(j)}return null},setItem:(a,t)=>{const e=O().AES.encrypt(t,L).toString();return window.localStorage.setItem(j,e)},removeItem:()=>window.localStorage.removeItem(j)}});var z=(0,F.MT)({state:{isAuth:!1,userData:{},showWelcomeTitle:!1},getters:{isAuth(a){return a.isAuth},userData(a){return a.userData},isWelcomeTitle(a){return a.showWelcomeTitle}},mutations:{enableAuth(a){a.isAuth=!0},disabledAuth(a){a.isAuth=!1},setUserData(a,t){a.userData=t},clearState(a){a.isAuth=!1,a.userData={}},showWelcomeTitle(a){a.showWelcomeTitle=!0},hiddenWelcomeTitle(a){a.showWelcomeTitle=!1}},plugins:[U.plugin]});let q={baseURL:"https://api.globalapps.xyz/api/v1",headers:{}};z.getters.isAuth&&(q.headers={Authorization:`bearer ${z.getters.userData.token}`});var E=T.Z.create(q);const Y=async a=>await E.post("/auth",{username:a.username,password:a.password}),R=a=>E.post("/check-token",{token:a});var B=e(2492),H=e.n(B);const Z=(a,t)=>{H().fire({title:a,text:t,icon:"error",confirmButtonText:"Ok"})},G=(a,t)=>H().fire({title:a,allowEscapeKey:!1,allowOutsideClick:!1,text:t,icon:"success",confirmButtonText:"Ok"}),K=(a,t,e)=>{H().fire({title:a,text:t,icon:"question",showConfirmButton:!0,confirmButtonText:"Sim",showCancelButton:!0,cancelButtonText:"Não"}).then((a=>{a.isConfirmed&&e()}))},Q=(a,t)=>""===a.username?(a.alert.show=!0,a.alert.message="Preencha o campo usuário",void A((()=>a.alert.show=!1),3e3)):""===a.password?(a.alert.show=!0,a.alert.message="Preencha o campo senha",void A((()=>a.alert.show=!1),3e3)):(a.showLoading=!0,void Y(a).then((e=>{a.showLoading=!1,z.commit("enableAuth"),z.commit("setUserData",e.data),t.push({name:"app"})})).catch((a=>{try{Z("Atencão",a.message)}catch(t){Z("Atencão",t.message)}})));var J=e.p+"img/loading.4f4a0956.gif";const X=a=>((0,o.dD)("data-v-4fb3b1c4"),a=a(),(0,o.Cn)(),a),aa={class:"loading-overlay align-items-center justify-content-center"},ta=X((()=>(0,o._)("img",{src:J,alt:"loading",class:"loading-icon"},null,-1))),ea={class:"loading-message"};function na(a,t,e,n,i,l){return(0,o.wg)(),(0,o.iD)("div",aa,[ta,(0,o._)("span",ea,(0,S.zw)(a.$props.message),1)])}var oa={name:"loading",props:{message:{type:String,required:!1}}};const ia=(0,l.Z)(oa,[["render",na],["__scopeId","data-v-4fb3b1c4"]]);var la=ia,sa={components:{Loading:la,Alert:P},setup(){let a=(0,k.qj)({username:"",password:"",showLoading:!1,alert:{show:!1,message:""}}),t=(0,u.tv)(),e=()=>{Q(a,t)};return{data:a,formSubmit:e}}};const ra=(0,l.Z)(sa,[["render",C],["__scopeId","data-v-72fe1a2c"]]);var ca=ra;const da=a=>((0,o.dD)("data-v-b1a88700"),a=a(),(0,o.Cn)(),a),ua={class:"navbar custom-navbar navbar-expand-lg navbar-light bg-light"},pa={class:"container-fluid"},ma={class:"navbar-brand",href:"#"},ga=da((()=>(0,o._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,o._)("span",{class:"navbar-toggler-icon"})],-1))),va={class:"collapse navbar-collapse",id:"navbarSupportedContent"},fa={class:"navbar-nav me-auto mb-2 mb-lg-0"},wa={class:"nav-item"},_a={class:"nav-item dropdown"},ba=da((()=>(0,o._)("a",{class:"nav-link dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}," Modulos ",-1))),ha={class:"dropdown-menu","aria-labelledby":"navbarDropdown"},ya={class:"nav-item"},Da={class:"container-fluid main-container"};function Ca(a,t,e,i,l,s){const r=(0,o.up)("font-awesome-icon"),c=(0,o.up)("router-link"),d=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("nav",ua,[(0,o._)("div",pa,[(0,o._)("a",ma,[(0,o.Wm)(r,{icon:"fa-solid fa-sack-dollar"}),(0,o.Uk)(" Graninha 4.0")]),ga,(0,o._)("div",va,[(0,o._)("ul",fa,[(0,o._)("li",wa,[(0,o.Wm)(c,{to:"/app/modules",class:"nav-link active","aria-current":"page"},{default:(0,o.w5)((()=>[(0,o.Wm)(r,{icon:"fa-solid fa-home"}),(0,o.Uk)(" Inicio")])),_:1})]),(0,o._)("li",_a,[ba,(0,o._)("ul",ha,[(0,o._)("li",null,[(0,o.Wm)(c,{to:"",class:"nav-link dropdown-item","aria-current":"page"},{default:(0,o.w5)((()=>[(0,o.Uk)("Dashboard")])),_:1})]),(0,o._)("li",null,[(0,o.Wm)(c,{to:"/app/modules/contas",class:"nav-link dropdown-item","aria-current":"page"},{default:(0,o.w5)((()=>[(0,o.Uk)("Contas")])),_:1})]),(0,o._)("li",null,[(0,o.Wm)(c,{to:"/app/modules/cartoes",class:"nav-link dropdown-item","aria-current":"page"},{default:(0,o.w5)((()=>[(0,o.Uk)("Cartões")])),_:1})]),(0,o._)("li",null,[(0,o.Wm)(c,{to:"/app/modules/caixa",class:"nav-link dropdown-item","aria-current":"page"},{default:(0,o.w5)((()=>[(0,o.Uk)("Caixa")])),_:1})]),(0,o._)("li",null,[(0,o.Wm)(c,{to:"",class:"nav-link dropdown-item","aria-current":"page"},{default:(0,o.w5)((()=>[(0,o.Uk)("Cofrinhos")])),_:1})])])]),(0,o._)("li",ya,[(0,o._)("a",{class:"nav-link",onClick:t[0]||(t[0]=(0,n.iM)(((...a)=>i.viewLogout&&i.viewLogout(...a)),["prevent"])),"aria-current":"page",href:"#"},[(0,o.Wm)(r,{icon:"fa-solid fa-right-from-bracket"}),(0,o.Uk)(" Sair")])])])])])]),(0,o._)("div",Da,[((0,o.wg)(),(0,o.j4)(d,{key:a.$route.params.module}))])],64)}var ka=e(7749),Sa={components:{FontAwesomeIcon:ka.GN},setup(){let a=(0,u.tv)();const t=()=>{K("Confirmação","Deseja deslogar do sistema?",(()=>{z.commit("clearState"),a.push({name:"login"})}))};return{viewLogout:t}}};const xa=(0,l.Z)(Sa,[["render",Ca],["__scopeId","data-v-b1a88700"]]);var Ma=xa;const $a={class:"container-fluid"},Pa={class:"row row-cols-2"},Aa={class:"col-md-2 col-margin"},Ta=["onClick"],Fa={class:"card-body flex-column d-flex align-items-center justify-content-center"},Ia={class:"module-name"};function Wa(a,t,e,n,i,l){const s=(0,o.up)("page-title"),r=(0,o.up)("font-awesome-icon");return(0,o.wg)(),(0,o.iD)("div",$a,[(0,o.Wm)(s,{"page-subtitle":"Escolha um modulo para continuar","page-title":"Seja bem-vindo, Admin"}),(0,o._)("div",Pa,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.moduleList,(a=>((0,o.wg)(),(0,o.iD)("div",Aa,[(0,o._)("div",{class:"card module-card",onClick:t=>n.openModule(a.url)},[(0,o._)("div",Fa,[(0,o.Wm)(r,{class:"module-icon",icon:a.icon},null,8,["icon"]),(0,o._)("span",Ia,(0,S.zw)(a.title),1)])],8,Ta)])))),256))])])}const Oa=a=>((0,o.dD)("data-v-f9ba9132"),a=a(),(0,o.Cn)(),a),Na={class:"page-title"},Va=Oa((()=>(0,o._)("br",null,null,-1))),ja={class:"text-muted page-subtitle"};function La(a,t,e,n,i,l){const s=(0,o.up)("font-awesome-icon");return(0,o.wg)(),(0,o.iD)("h3",Na,[(0,o.Wm)(s,{icon:a.$props.icon},null,8,["icon"]),(0,o.Uk)(" "+(0,S.zw)(a.$props.pageTitle),1),Va,(0,o._)("small",ja,(0,S.zw)(a.$props.pageSubtitle),1)])}var Ua={name:"page-title",components:{FontAwesomeIcon:ka.GN},props:{pageTitle:{type:String,required:!0},pageSubtitle:{type:String,required:!0},icon:{type:String,required:!1}}};const za=(0,l.Z)(Ua,[["render",La],["__scopeId","data-v-f9ba9132"]]);var qa=za,Ea={components:{PageTitle:qa},setup(){let a=[{title:"Dashboard",icon:"fa-solid fa-chart-line",url:"dashboard"},{title:"Contas",icon:"fa-solid fa-receipt",url:"contas"},{title:"Cartões",icon:"fa-solid fa-credit-card",url:"cartoes"},{title:"Caixa",icon:"fa-solid fa-money-bill",url:"caixa"},{title:"Cofrinhos",icon:"fa-solid fa-piggy-bank",url:"cofrinho"}],t=(0,u.tv)();const e=a=>{t.push({name:"conta_module",params:{module:a}})};return{moduleList:a,openModule:e}}};const Ya=(0,l.Z)(Ea,[["render",Wa],["__scopeId","data-v-58cd4734"]]);var Ra=Ya;const Ba=a=>((0,o.dD)("data-v-c5e83338"),a=a(),(0,o.Cn)(),a),Ha={class:"container-fluid"},Za={class:"alert alert-primary statistic-container"},Ga={class:"row row-cols-2"},Ka={class:"col-md-2 statistic-columns"},Qa=Ba((()=>(0,o._)("h4",{class:"tipo-transacao-label"},"Saldo total",-1))),Ja={class:"page-action"},Xa={class:"show-per-page"},at=(0,o.uE)('<option value="5" data-v-c5e83338>5</option><option value="10" data-v-c5e83338>10</option><option value="15" data-v-c5e83338>15</option><option value="50" data-v-c5e83338>50</option><option value="100" data-v-c5e83338>100</option>',5),tt=[at],et={key:1,class:"filter-body"},nt={class:"row row-cols-1"},ot={class:"col-md-6"},it=Ba((()=>(0,o._)("label",{class:"form-label"},"Descrição",-1))),lt={class:"input-group"},st={class:"col-md-4"},rt=Ba((()=>(0,o._)("label",{class:"form-label"},"Data",-1))),ct={class:"calendar-content d-flex"},dt={class:"d-flex"},ut=["value"],pt=Ba((()=>(0,o._)("span",{style:{padding:"10px"}},"até",-1))),mt=["value"],gt={class:"table table-striped page-table"},vt=Ba((()=>(0,o._)("thead",{class:"page-table-header"},[(0,o._)("tr",null,[(0,o._)("td",null,"Descrição"),(0,o._)("td",null,"Saldo"),(0,o._)("td",null,"Ultima atualização"),(0,o._)("td")])],-1))),ft={class:"page-table-body"},wt=["onClick"],_t=["onClick"],bt=["onClick"],ht={class:"table-actions d-flex"},yt=["onClick"],Dt=["onClick"],Ct={class:"row"},kt={class:"col-12"},St={"aria-label":"Page navigation example"},xt={class:"pagination"},Mt={class:"page-item"},$t={class:"page-item"},Pt={key:0,class:"page-link"},At=["onClick"],Tt={class:"page-item"},Ft={class:"container-fluid"},It={class:"row"},Wt={class:"col-md-12"},Ot=Ba((()=>(0,o._)("label",{class:"form-label"},"Descrição",-1)));function Nt(a,t,e,i,l,s){const r=(0,o.up)("page-title"),c=(0,o.up)("loading"),d=(0,o.up)("money-format"),u=(0,o.up)("font-awesome-icon"),p=(0,o.up)("v-date-picker"),m=(0,o.up)("modal");return(0,o.wg)(),(0,o.iD)("div",Ha,[(0,o.Wm)(r,{"page-subtitle":i.data.pageTitle.subtitle,"page-title":i.data.pageTitle.title,icon:i.data.pageTitle.icon},null,8,["page-subtitle","page-title","icon"]),i.data.loading.show?((0,o.wg)(),(0,o.j4)(c,{key:0,message:"Processando aguarde..."})):(0,o.kq)("",!0),(0,o._)("div",Za,[(0,o._)("div",Ga,[(0,o._)("div",Ka,[Qa,(0,o._)("span",null,[(0,o.Wm)(d,{value:i.totalAmountAccounts},null,8,["value"])])])])]),(0,o._)("div",Ja,[(0,o._)("button",{class:"btn btn-primary app-button",onClick:t[0]||(t[0]=(...a)=>i.viewOpenModalForm&&i.viewOpenModalForm(...a)),type:"button"},[(0,o.Wm)(u,{icon:"fa-solid fa-circle-plus"})]),(0,o._)("button",{class:"btn btn-secondary app-button",onClick:t[1]||(t[1]=(...a)=>i.viewOpenCloseFilter&&i.viewOpenCloseFilter(...a)),type:"button"},[(0,o.Wm)(u,{icon:"fa-solid fa-filter"})]),(0,o._)("div",Xa,[(0,o.wy)((0,o._)("select",{class:"form-select show-pages",onChange:t[2]||(t[2]=(...a)=>i.viewChangeLimitPerPage&&i.viewChangeLimitPerPage(...a)),"onUpdate:modelValue":t[3]||(t[3]=a=>i.data.pagination.limit=a)},tt,544),[[n.bM,i.data.pagination.limit]])])]),i.data.filter.open?((0,o.wg)(),(0,o.iD)("div",et,[(0,o._)("div",nt,[(0,o._)("div",ot,[it,(0,o._)("div",lt,[(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=a=>i.data.filter.description=a),class:"form-control"},null,512),[[n.nr,i.data.filter.description]])])]),(0,o._)("div",st,[rt,(0,o._)("div",ct,[(0,o.Wm)(p,{mode:"date",modelValue:i.data.filter.range,"onUpdate:modelValue":t[5]||(t[5]=a=>i.data.filter.range=a),"is-range":""},{default:(0,o.w5)((({inputValue:a,inputEvents:t,isDragging:e})=>[(0,o._)("div",dt,[(0,o._)("input",(0,o.dG)({class:"form-control",value:a.start},(0,o.mx)(t.start,!0)),null,16,ut),pt,(0,o._)("input",(0,o.dG)({disabled:"",style:{"margin-right":"10px"},class:"form-control",value:a.end},(0,o.mx)(t.end,!0)),null,16,mt)])])),_:1},8,["modelValue"]),(0,o._)("button",{type:"button",onClick:t[6]||(t[6]=(...a)=>i.viewSearchFilter&&i.viewSearchFilter(...a)),class:"btn btn-primary app-button"},[(0,o.Wm)(u,{icon:"fa-solid fa-search"})])])])])])):(0,o.kq)("",!0),(0,o._)("table",gt,[vt,(0,o._)("tbody",ft,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.data.accounts,(a=>((0,o.wg)(),(0,o.iD)("tr",null,[(0,o._)("td",{onClick:(0,n.iM)((t=>i.viewEnterTransaction(a.id)),["self"]),"data-title":"Descrição"},(0,S.zw)(a.description),9,wt),(0,o._)("td",{onClick:(0,n.iM)((t=>i.viewEnterTransaction(a.id)),["self"]),"data-title":"Saldo"},[(0,o.Wm)(d,{value:a.amount},null,8,["value"])],8,_t),(0,o._)("td",{onClick:(0,n.iM)((t=>i.viewEnterTransaction(a.id)),["self"]),"data-title":"Ultima atualização"},(0,S.zw)(i.formatDateAndHour(a.updated_at)),9,bt),(0,o._)("td",null,[(0,o._)("div",ht,[(0,o._)("button",{type:"button",onClick:t=>i.viewOpenModalEditForm(a.id,a.description),class:"btn btn-primary app-button"},[(0,o.Wm)(u,{icon:"fa-solid fa-pen-to-square"})],8,yt),(0,o._)("button",{type:"button",onClick:t=>i.viewDeleteAccountConfirmation(a.id,a.description),class:"btn btn-outline-danger"},[(0,o.Wm)(u,{icon:"fa-solid fa-trash"})],8,Dt)])])])))),256))])]),(0,o._)("div",Ct,[(0,o._)("div",kt,[(0,o._)("nav",St,[(0,o._)("ul",xt,[(0,o._)("li",Mt,[(0,o._)("a",{onClick:t[7]||(t[7]=(0,n.iM)((a=>i.viewListNavigation("prev")),["prevent"])),class:"page-link",href:"#"},"Anterior")]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.data.pagination.pages,(a=>((0,o.wg)(),(0,o.iD)("li",$t,["..."===a?((0,o.wg)(),(0,o.iD)("span",Pt,"...")):((0,o.wg)(),(0,o.iD)("a",{key:1,onClick:(0,n.iM)((t=>i.viewChangePageByPageNumber(a)),["prevent"]),class:(0,S.C_)(["page-link",{active:i.data.pagination.current_page===a}]),href:"#"},(0,S.zw)(a),11,At))])))),256)),(0,o._)("li",Tt,[(0,o._)("a",{onClick:t[8]||(t[8]=(0,n.iM)((a=>i.viewListNavigation("next")),["prevent"])),class:"page-link",href:"#"},"Proximo")])])])])]),i.data.modal.show?((0,o.wg)(),(0,o.j4)(m,{key:2,onCloseModal:i.viewCloseModal,onSaveData:i.viewModalSaveData,title:i.data.modal.title,icon:i.data.modal.icon},{default:(0,o.w5)((()=>[(0,o._)("div",Ft,[(0,o._)("div",It,[(0,o._)("div",Wt,[Ot,(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":t[9]||(t[9]=a=>i.data.account.description=a),class:"form-control",placeholder:"Digite uma descrição"},null,512),[[n.nr,i.data.account.description]])])])])])),_:1},8,["onCloseModal","onSaveData","title","icon"])):(0,o.kq)("",!0)])}const Vt=a=>{let t=new Date(a),e=t.getDate()<10?"0"+t.getDate():t.getDate(),n=t.getMonth()<10?"0"+(t.getMonth()+1):t.getMonth()+1,o=t.getFullYear(),i=t.getHours()<10?"0"+t.getHours():t.getHours(),l=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes();return`${e}/${n}/${o} ${i}:${l}`},jt=a=>{let t=new Date(a),e=t.getDate()<10?"0"+t.getDate():t.getDate(),n=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,o=t.getFullYear();return`${o}-${n}-${e}`},Lt=(a,t)=>{let e=z.getters.userData.user_id,n=t.params.module;a.loading.show=!0;let o=Bt(e,"accounts",a,n);E.get(o).then((t=>{a.loading.show=!1,a.pagination.current_page=t.data.current_page,a.pagination.totalPages=t.data.total_pages,a.pagination.totalRows=t.data.total_rows,a.accounts=t.data.items})).catch((t=>{a.loading.show=!1,Z("Atenção","Falha ao obter lista de dados")}))},Ut=(a,t)=>{a.loading.show=!0;let e=z.getters.userData.user_id;E.get(`/users/${e}/accounts/${a.account.id}`).then((t=>{a.loading.show=!1,a.account.id=t.data.id,a.account.description=t.data.description,a.account.account_type_id=t.data.accountType.id})).catch((t=>{a.loading.show=!1,Z("Atenção","Falha ao obter dados da conta, tente novamente ou contate o administrador")}))},zt=a=>{let t=z.getters.userData.user_id;return E.get(`/users/${t}/accounts/${a}`)},qt=(a,t)=>{let e=z.getters.userData.user_id;a.loading.show=!0,E.post(`/users/${e}/accounts`,a.account).then((e=>{a.loading.show=!1,G("Sucesso!","Conta cadastrada com sucesso").then((e=>{e.isConfirmed&&(Lt(a,t),a.account.description="",a.modal.show=!1)}))})).catch((t=>{a.loading.show=!1,Z("Atenção","Falha ao salvar conta, tente novamente ou contate o administrador")}))},Et=(a,t)=>{let e=z.getters.userData.user_id;a.loading.show=!0,E.put(`/users/${e}/accounts/${a.account.id}`,a.account).then((e=>{a.loading.show=!1,G("sucesso!!","Conta atualizada com sucesso").then((e=>{Lt(a,t),a.modal.show=!1,a.account.description="",a.accounts.id=""}))})).catch((a=>{Z("Atenção","Falha ao atualizar conta, tente novamente ou contate o administrador")}))},Yt=(a,t)=>{let e=z.getters.userData.user_id;a.loading.show=!0,E.delete(`/users/${e}/accounts/${a.account.id}`).then((e=>{a.loading.show=!1,G("Sucesso!","Conta deletada com sucesso").then((e=>{e.isConfirmed&&(a.account.id="",Lt(a,t))}))})).catch((a=>{Z("Atenção","Falha ao deletar conta, tente novamente ou contate o adminstrador.")}))},Rt=(a,t)=>{let e=z.getters.userData.user_id,n=t.params.module,o=Bt(e,"accounts/statistics",a,n);E.get(o).then((t=>{H().close(),a.statistics=t.data})).catch((a=>{Z("Atenção",a.response.data.message)}))};function Bt(a,t,e,n){let o=`/users/${a}/${t}?limit=${e.pagination.limit}&page=${e.pagination.current_page}`;return null!=e.filter.description&&(o=o.concat(`&description=${e.filter.description}`)),"contas"===n&&(o=o.concat("&account_types[]=conta_corrente")),"cartoes"===n&&(o=o.concat("&account_types[]=cartao_credito")),"caixa"===n&&(o=o.concat("&account_types[]=caixa")),o.concat(`&initial_date=${jt(e.filter.range.start)}&end_date=${jt(e.filter.range.end)}`)}const Ht=(a,t)=>{let e=t.params.module;"contas"===e&&(a.pageTitle={title:"Contas",subtitle:"Gerencie suas contas",icon:"fa-solid fa-receipt"}),"cartoes"===e&&(a.pageTitle={title:"Cartões",subtitle:"Gerencie seus cartões",icon:"fa-solid fa-credit-card"}),"caixa"===e&&(a.pageTitle={title:"Caixa",subtitle:"Gerencie seu caixa mensal",icon:"fa-solid fa-money-bill"})},Zt=(a,t,e,n)=>{let o=t.params.module;"contas"===o&&(a.modal.title="new"===e?"Nova conta":`Editar - ${n}`,a.modal.icon="new"===e?"fa-solid fa-circle-plus":"fa-solid fa-pen-to-square"),"cartoes"===o&&(a.modal={title:"new"===e?"Novo cartão":`Editar - ${n}`,icon:"new"===e?"fa-solid fa-circle-plus":"fa-solid fa-pen-to-square"}),"caixa"===o&&(a.modal={title:"new"===e?"Novo Caixa":`Editar - ${n}`,icon:"new"===e?"fa-solid fa-circle-plus":"fa-solid fa-pen-to-square"})},Gt=a=>{a.filter.open?a.filter.open=!1:a.filter.open=!0},Kt=a=>{const t=new Date;a.filter.range={start:new Date(t.getFullYear(),t.getMonth(),1),end:new Date(t.getFullYear(),t.getMonth()+1,0)}},Qt=(a,t,e)=>{if("prev"===e&&a.pagination.current_page>1)return a.pagination.current_page-=1,void Lt(a,t);if("next"===e){if(a.pagination.current_page>=a.pagination.totalPages)return;a.pagination.current_page+=1,Lt(a,t)}},Jt=(a,t)=>{null!=a.filter.range?(Rt(a,t),Lt(a,t)):Z("Atenção","Preencha o filtro de data com inicio e fim para continuar")};function Xt(a,t,e,n,i,l){return(0,o.wg)(),(0,o.iD)("span",{class:"badge rounded-pill text-bg-primary",style:(0,S.j5)(`background:${a.$props.color}!important`)},(0,S.zw)(a.$props.text),5)}var ae={name:"badge",props:["color","text"]};const te=(0,l.Z)(ae,[["render",Xt]]);var ee=te;function ne(a,t,e,n,i,l){return(0,o.wg)(),(0,o.iD)("span",{class:(0,S.C_)({positive:n.isPositiveOrNegative,negative:!n.isPositiveOrNegative})},(0,S.zw)(n.formatMoneyBRL(a.$props.value)),3)}const oe=a=>a.toLocaleString("pt-BR",{style:"currency",currency:"BRL"});var ie={name:"money-format",props:["value"],setup(a){const t=(0,o.Fl)((()=>a.value>=0));return{isPositiveOrNegative:t,formatMoneyBRL:oe}}};const le=(0,l.Z)(ie,[["render",ne],["__scopeId","data-v-6f191cc8"]]);var se=le;const re=(a,t,e,n)=>{let o,i=[],l=Math.ceil(t/e),s=Math.ceil(n/2);o=a<=s?"start":l-s<a?"end":"middle";let r=n<l,c=1;while(c<=l&&c<=n){let t=ce(c,a,n,l),e=2===c&&("middle"===o||"end"===o),s=c===n-1&&("middle"===o||"start"===o);r&&(e||s)?i.push("..."):i.push(t),c++}return i},ce=(a,t,e,n)=>{var o=Math.ceil(e/2);return a===e?n:1===a?a:e<n?n-o<t?n-e+a:o<t?t-o+a:a:a},de={class:"app-modal-backdrop"},ue={class:"app-modal-content container-fluid"},pe={class:"app-modal-header"},me={class:"app-modal-body"},ge={class:"app-modal-footer d-flex justify-content-end"};function ve(a,t,e,n,i,l){const s=(0,o.up)("font-awesome-icon");return(0,o.wg)(),(0,o.iD)("div",de,[(0,o._)("div",ue,[(0,o._)("div",pe,[(0,o._)("h3",null,[(0,o.Wm)(s,{icon:a.$props.icon},null,8,["icon"]),(0,o.Uk)(" "+(0,S.zw)(a.$props.title),1)])]),(0,o._)("div",me,[(0,o.WI)(a.$slots,"default",{},void 0,!0)]),(0,o._)("div",ge,[(0,o._)("button",{type:"button",onClick:t[0]||(t[0]=(...a)=>n.viewCancel&&n.viewCancel(...a)),class:"btn btn-secondary"},"Cancelar"),(0,o._)("button",{type:"button",onClick:t[1]||(t[1]=(...a)=>n.viewSave&&n.viewSave(...a)),class:"btn btn-primary app-button"},"Salvar")])])])}var fe={name:"modal",components:{FontAwesomeIcon:ka.GN},props:["title","icon"],setup(a,t){const e=()=>{t.emit("close-modal")},n=()=>{t.emit("save-data")};return{viewCancel:e,viewSave:n}}};const we=(0,l.Z)(fe,[["render",ve],["__scopeId","data-v-35cc55b4"]]);var _e=we;const be=(a,t)=>{let e=t.params.module;E.get("/account-types").then((t=>{let n=t.data.filter((a=>a.slug_name===he(e)));a.account.account_type_id=n[0].id})).catch((a=>{Z("Atenção","Falha ao obter tipos de contas")}))},he=a=>"contas"===a?"conta_corrente":"cartoes"===a?"cartao_credito":"caixa"===a?"caixa":void 0;var ye={components:{Modal:_e,MoneyFormat:se,Badge:ee,Loading:la,PageTitle:qa},setup(){let a=(0,u.yj)(),t=(0,u.tv)(),e=(0,k.qj)({modal:{title:"Nova Conta",icon:"",show:!1,operation:"new"},pageTitle:{title:"",subtitle:"",icon:""},filter:{open:!0,description:"",range:""},loading:{show:!1},statistics:{},pagination:{pages:[],limit:15,current_page:1,totalPages:0,totalRows:0},account:{id:"",description:"",account_type_id:""},accounts:null});const n=()=>{Gt(e)},i=()=>{Lt(e,a)},l=t=>{Qt(e,a,t)},s=t=>{e.pagination.current_page=t,Lt(e,a)},r=()=>{Jt(e,a)},c=()=>{Zt(e,a,"new"),e.modal.show=!0,e.modal.operation="new"},d=()=>{e.modal.show=!1,e.account.id="",e.account.description=""},p=()=>{"new"===e.modal.operation?qt(e,a,t):Et(e,a)},m=(t,n)=>{e.account.id=t,Zt(e,a,"edit",n),Ut(e,a),e.modal.show=!0,e.modal.operation="edit"},g=(t,n)=>{K("Confirmação",`Deseja deletar a conta ${n}?`,(()=>{e.account.id=t,Yt(e,a)}))},v=e=>{let n=a.params.module;t.push({name:"transanctions_module",params:{module:n,id:e}})},f=(0,o.Fl)((()=>e.statistics.period_amount/100));return(0,o.YP)((()=>e.accounts),(t=>{e.pagination.current_page>1&&0===t.length&&(e.pagination.current_page-=1,Lt(e,a)),e.pagination.pages=re(e.pagination.current_page,e.pagination.totalRows,e.pagination.limit,8)})),(0,o.bv)((()=>{Ht(e,a),Kt(e),Lt(e,a),Rt(e,a),be(e,a)})),{data:e,viewOpenCloseFilter:n,viewChangeLimitPerPage:i,viewListNavigation:l,viewChangePageByPageNumber:s,viewSearchFilter:r,viewCloseModal:d,viewModalSaveData:p,viewOpenModalForm:c,viewDeleteAccountConfirmation:g,viewOpenModalEditForm:m,viewEnterTransaction:v,formatDateAndHour:Vt,totalAmountAccounts:f}}};const De=(0,l.Z)(ye,[["render",Nt],["__scopeId","data-v-c5e83338"]]);var Ce=De;const ke=a=>((0,o.dD)("data-v-e2b03928"),a=a(),(0,o.Cn)(),a),Se={class:"container-fluid"},xe={class:"alert alert-primary statistic-container"},Me={class:"row row-cols-2"},$e={class:"col-md-2 statistic-columns"},Pe={class:"tipo-transacao-label"},Ae={class:"page-action"},Te={class:"show-per-page"},Fe=(0,o.uE)('<option value="5" data-v-e2b03928>5</option><option value="10" data-v-e2b03928>10</option><option value="15" data-v-e2b03928>15</option><option value="50" data-v-e2b03928>50</option><option value="100" data-v-e2b03928>100</option>',5),Ie=[Fe],We={key:1,class:"filter-body"},Oe={class:"row row-cols-1"},Ne={class:"col-md-6"},Ve=ke((()=>(0,o._)("label",{class:"form-label"},"Descrição",-1))),je={class:"input-group"},Le={class:"col-md-4"},Ue=ke((()=>(0,o._)("label",{class:"form-label"},"Data",-1))),ze={class:"calendar-content d-flex"},qe={class:"d-flex"},Ee=["value"],Ye=ke((()=>(0,o._)("span",{style:{padding:"10px"}},"até",-1))),Re=["value"],Be={class:"table table-striped page-table"},He=ke((()=>(0,o._)("thead",{class:"page-table-header"},[(0,o._)("tr",null,[(0,o._)("td",null,"Descrição"),(0,o._)("td",null,"Nome fatura"),(0,o._)("td",null,"Data"),(0,o._)("td",null,"Tipo"),(0,o._)("td",null,"Categoria"),(0,o._)("td",null,"Valor"),(0,o._)("td",null,"Parcelado"),(0,o._)("td",null,"Qtd.Parcelas"),(0,o._)("td",null,"N.Parcela"),(0,o._)("td",null,"Verificado"),(0,o._)("td")])],-1))),Ze={class:"page-table-body"},Ge={"data-title":"Descrição"},Ke={"data-title":"Nome fatura"},Qe={"data-title":"Data"},Je={"data-title":"Tipo"},Xe={"data-title":"Categoria"},an={"data-title":"Valor"},tn={"data-title":"Parcelado"},en={"data-title":"Qtd.Parcelas"},nn={"data-title":"N.Parcela"},on={"data-title":"Verificado"},ln=["checked"],sn={class:"table-actions d-flex"},rn=["onClick"],cn=["onClick"],dn={class:"row"},un={class:"col-12"},pn={"aria-label":"Page navigation example"},mn={class:"pagination"},gn={class:"page-item"},vn={class:"page-item"},fn={key:0,class:"page-link"},wn=["onClick"],_n={class:"page-item"},bn={class:"container-fluid"},hn={class:"row row-cols-1 transaction-form-rows"},yn={class:"col-md-4"},Dn=ke((()=>(0,o._)("label",{for:"description",class:"form-label"},"Descrição",-1))),Cn={class:"col-md-4"},kn=ke((()=>(0,o._)("label",{for:"description",class:"form-label"},"Nome na fatura",-1))),Sn={class:"col-md-4"},xn=ke((()=>(0,o._)("label",{for:"date",class:"form-label"},"Data",-1))),Mn={class:"row row-cols-2 transaction-form-rows"},$n={class:"col-6"},Pn=ke((()=>(0,o._)("label",{for:"tipo",class:"form-label"},"Tipo",-1))),An=ke((()=>(0,o._)("option",{value:""},"Selecione um tipo",-1))),Tn=["value"],Fn={class:"col-6"},In=ke((()=>(0,o._)("label",{for:"valor",class:"form-label"},"Valor",-1))),Wn={class:"row row-cols-2 transaction-form-rows"},On={class:"col-md-6"},Nn=ke((()=>(0,o._)("label",{for:"categoria",class:"form-label"},"Categoria",-1))),Vn=["disabled"],jn=ke((()=>(0,o._)("option",{value:""},"Selecione uma categoria",-1))),Ln=["value"],Un={key:0,class:"col-md-3"},zn=ke((()=>(0,o._)("label",{for:"categoria",class:"form-label"},"Parcelamento ?",-1))),qn=ke((()=>(0,o._)("option",{value:"false"},"Não",-1))),En=ke((()=>(0,o._)("option",{value:"true"},"Sim",-1))),Yn=[qn,En],Rn={key:1,class:"col-md-1"},Bn=ke((()=>(0,o._)("label",{for:"parcelas",class:"form-label"},"Parcelas",-1))),Hn=["disabled"],Zn={key:2,class:"col-md-2"},Gn=ke((()=>(0,o._)("label",{for:"valor_parcela",class:"form-label"},"Valor parcela",-1)));function Kn(a,t,e,i,l,s){const r=(0,o.up)("page-title"),c=(0,o.up)("loading"),d=(0,o.up)("money-format"),u=(0,o.up)("font-awesome-icon"),p=(0,o.up)("v-date-picker"),m=(0,o.up)("CurrencyInput"),g=(0,o.up)("modal");return(0,o.wg)(),(0,o.iD)("div",Se,[(0,o.Wm)(r,{"page-subtitle":i.data.pageTitle.subtitle,"page-title":i.data.pageTitle.title,icon:i.data.pageTitle.icon},null,8,["page-subtitle","page-title","icon"]),i.data.loading.show?((0,o.wg)(),(0,o.j4)(c,{key:0,message:"Processando aguarde..."})):(0,o.kq)("",!0),(0,o._)("div",xe,[(0,o._)("div",Me,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.data.statistics,(a=>((0,o.wg)(),(0,o.iD)("div",$e,[(0,o._)("h4",Pe,(0,S.zw)(a.description),1),(0,o._)("span",null,[(0,o.Wm)(d,{value:a.amount},null,8,["value"])])])))),256))])]),(0,o._)("div",Ae,[(0,o._)("button",{class:"btn btn-primary app-button",onClick:t[0]||(t[0]=(...a)=>i.viewOpenModalForm&&i.viewOpenModalForm(...a)),type:"button"},[(0,o.Wm)(u,{icon:"fa-solid fa-circle-plus"})]),(0,o._)("button",{class:"btn btn-secondary app-button",onClick:t[1]||(t[1]=(...a)=>i.viewOpenCloseFilter&&i.viewOpenCloseFilter(...a)),type:"button"},[(0,o.Wm)(u,{icon:"fa-solid fa-filter"})]),(0,o._)("div",Te,[(0,o.wy)((0,o._)("select",{class:"form-select show-pages",onChange:t[2]||(t[2]=(...a)=>i.viewChangeLimitPerPage&&i.viewChangeLimitPerPage(...a)),"onUpdate:modelValue":t[3]||(t[3]=a=>i.data.pagination.limit=a)},Ie,544),[[n.bM,i.data.pagination.limit]])])]),i.data.filter.open?((0,o.wg)(),(0,o.iD)("div",We,[(0,o._)("div",Oe,[(0,o._)("div",Ne,[Ve,(0,o._)("div",je,[(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=a=>i.data.filter.description=a),class:"form-control"},null,512),[[n.nr,i.data.filter.description]])])]),(0,o._)("div",Le,[Ue,(0,o._)("div",ze,[(0,o.Wm)(p,{mode:"date",modelValue:i.data.filter.range,"onUpdate:modelValue":t[5]||(t[5]=a=>i.data.filter.range=a),"is-range":""},{default:(0,o.w5)((({inputValue:a,inputEvents:t,isDragging:e})=>[(0,o._)("div",qe,[(0,o._)("input",(0,o.dG)({class:"form-control",value:a.start},(0,o.mx)(t.start,!0)),null,16,Ee),Ye,(0,o._)("input",(0,o.dG)({disabled:"",style:{"margin-right":"10px"},class:"form-control",value:a.end},(0,o.mx)(t.end,!0)),null,16,Re)])])),_:1},8,["modelValue"]),(0,o._)("button",{type:"button",onClick:t[6]||(t[6]=(...a)=>i.viewSearchFilter&&i.viewSearchFilter(...a)),class:"btn btn-primary app-button"},[(0,o.Wm)(u,{icon:"fa-solid fa-search"})])])])])])):(0,o.kq)("",!0),(0,o._)("table",Be,[He,(0,o._)("tbody",Ze,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.data.transactions,(a=>((0,o.wg)(),(0,o.iD)("tr",null,[(0,o._)("td",Ge,(0,S.zw)(a.description),1),(0,o._)("td",Ke,(0,S.zw)(a.installment_description),1),(0,o._)("td",Qe,(0,S.zw)(a.date),1),(0,o._)("td",Je,(0,S.zw)(a.transaction_type.description),1),(0,o._)("td",Xe,(0,S.zw)(a.category.description),1),(0,o._)("td",an,[(0,o.Wm)(d,{value:a.amount},null,8,["value"])]),(0,o._)("td",tn,(0,S.zw)(a.installment),1),(0,o._)("td",en,(0,S.zw)(a.amount_installment),1),(0,o._)("td",nn,(0,S.zw)(a.current_installment),1),(0,o._)("td",on,[(0,o._)("input",{type:"checkbox",onChange:t[7]||(t[7]=()=>{}),checked:a.checked},null,40,ln)]),(0,o._)("td",null,[(0,o._)("div",sn,[(0,o._)("button",{type:"button",onClick:t=>i.viewOpenModalEditForm(a.id,a.description),class:"btn btn-primary app-button"},[(0,o.Wm)(u,{icon:"fa-solid fa-pen-to-square"})],8,rn),(0,o._)("button",{type:"button",onClick:t=>i.viewDeleteAccountConfirmation(a.id,a.description),class:"btn btn-outline-danger"},[(0,o.Wm)(u,{icon:"fa-solid fa-trash"})],8,cn)])])])))),256))])]),(0,o._)("div",dn,[(0,o._)("div",un,[(0,o._)("nav",pn,[(0,o._)("ul",mn,[(0,o._)("li",gn,[(0,o._)("a",{onClick:t[8]||(t[8]=(0,n.iM)((a=>i.viewListNavigation("prev")),["prevent"])),class:"page-link",href:"#"},"Anterior")]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.data.pagination.pages,(a=>((0,o.wg)(),(0,o.iD)("li",vn,["..."===a?((0,o.wg)(),(0,o.iD)("span",fn,"...")):((0,o.wg)(),(0,o.iD)("a",{key:1,onClick:(0,n.iM)((t=>i.viewChangePageByPageNumber(a)),["prevent"]),class:(0,S.C_)(["page-link",{active:i.data.pagination.current_page===a}]),href:"#"},(0,S.zw)(a),11,wn))])))),256)),(0,o._)("li",_n,[(0,o._)("a",{onClick:t[9]||(t[9]=(0,n.iM)((a=>i.viewListNavigation("next")),["prevent"])),class:"page-link",href:"#"},"Proximo")])])])])]),i.data.modal.show?((0,o.wg)(),(0,o.j4)(g,{key:2,onCloseModal:i.viewCloseModal,onSaveData:i.viewModalSaveData,title:i.data.modal.title,icon:i.data.modal.icon},{default:(0,o.w5)((()=>[(0,o._)("div",bn,[(0,o._)("div",hn,[(0,o._)("div",yn,[Dn,(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":t[10]||(t[10]=a=>i.data.transaction.description=a),class:"form-control",id:"description",placeholder:"Digite um nome para sua conta","aria-describedby":"descriptionHelp"},null,512),[[n.nr,i.data.transaction.description]])]),(0,o._)("div",Cn,[kn,(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":t[11]||(t[11]=a=>i.data.transaction.installment_description=a),class:"form-control",id:"description",placeholder:"Digite o nome que esta escrito na fatura","aria-describedby":"descriptionHelp"},null,512),[[n.nr,i.data.transaction.installment_description]])]),(0,o._)("div",Sn,[xn,(0,o.wy)((0,o._)("input",{type:"date","onUpdate:modelValue":t[12]||(t[12]=a=>i.data.transaction.date=a),class:"form-control",id:"date",placeholder:"Digite um nome para sua conta","aria-describedby":"descriptionHelp"},null,512),[[n.nr,i.data.transaction.date]])])]),(0,o._)("div",Mn,[(0,o._)("div",$n,[Pn,(0,o.wy)((0,o._)("select",{class:"form-select","onUpdate:modelValue":t[13]||(t[13]=a=>i.data.transaction.transaction_type=a)},[An,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.data.transactionTypes,(a=>((0,o.wg)(),(0,o.iD)("option",{value:a.id},(0,S.zw)(a.description),9,Tn)))),256))],512),[[n.bM,i.data.transaction.transaction_type]])]),(0,o._)("div",Fn,[In,(0,o.Wm)(m,{options:{currency:"BRL"},modelValue:i.data.transaction.amount,"onUpdate:modelValue":t[14]||(t[14]=a=>i.data.transaction.amount=a),class:"form-control"},null,8,["modelValue"])])]),(0,o._)("div",Wn,[(0,o._)("div",On,[Nn,(0,o.wy)((0,o._)("select",{class:"form-select","onUpdate:modelValue":t[15]||(t[15]=a=>i.data.transaction.transaction_category=a),disabled:i.data.selectStates.categoryDisable},[jn,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.data.transactionCategories,(a=>((0,o.wg)(),(0,o.iD)("option",{value:a.id},(0,S.zw)(a.description),9,Ln)))),256))],8,Vn),[[n.bM,i.data.transaction.transaction_category]])]),i.data.disableInstallment?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",Un,[zn,(0,o.wy)((0,o._)("select",{class:"form-select","onUpdate:modelValue":t[16]||(t[16]=a=>i.data.transaction.installment=a)},Yn,512),[[n.bM,i.data.transaction.installment]])])),i.data.disableInstallment?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",Rn,[Bn,(0,o.wy)((0,o._)("input",{type:"text",onKeyup:t[17]||(t[17]=(...a)=>i.viewSimulateInstallmentsAmount&&i.viewSimulateInstallmentsAmount(...a)),"onUpdate:modelValue":t[18]||(t[18]=a=>i.data.transaction.amount_installments=a),class:"form-control",disabled:i.data.selectStates.installmentDisable,id:"parcelas",placeholder:"Parcelas"},null,40,Hn),[[n.nr,i.data.transaction.amount_installments]])])),i.data.disableInstallment?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",Zn,[Gn,(0,o.Wm)(m,{options:{currency:"BRL"},modelValue:i.data.simulateInstallment,"onUpdate:modelValue":t[19]||(t[19]=a=>i.data.simulateInstallment=a),disabled:"",class:"form-control"},null,8,["modelValue"])]))])])])),_:1},8,["onCloseModal","onSaveData","title","icon"])):(0,o.kq)("",!0)])}const Qn=a=>{if(Number.isInteger(a))return 100*a;{let t=String(a).split("."),e=t[0],n=t[1],o=0;return o=n.indexOf("0",0)<0&&parseInt(n)<10?e.concat(n).concat("0"):e.concat(n),Number.parseInt(o)}},Jn=(a,t)=>{let e=z.getters.userData.user_id,n=t.params.id,o=`/users/${e}/accounts/${n}/statistics`;o=o.concat(`?initial_date=${jt(a.filter.range.start)}&end_date=${jt(a.filter.range.end)}`),E.get(o).then((t=>{a.statistics=t.data})).catch((a=>{Z("Atenção","Falha ao obter statistica")}))},Xn=(a,t)=>{let e=z.getters.userData.user_id,n=t.params.id;a.loading.show=!0;let o=`/users/${e}/accounts/${n}/transactions?limit=${a.pagination.limit}&page=${a.pagination.current_page}&initial_date=${jt(a.filter.range.start)}&end_date=${jt(a.filter.range.end)}`;null!=a.filter.description&&(o=o.concat(`&description=${a.filter.description}`)),E.get(o).then((t=>{a.loading.show=!1,a.pagination.current_page=t.data.current_page,a.pagination.totalPages=t.data.total_pages,a.pagination.totalRows=t.data.total_rows,a.transactions=t.data.items})).catch((t=>{a.loading.show=!1,Z("Atenção","Falha ao obter transações")}))},ao=(a,t)=>{let e=z.getters.userData.user_id,n=t.params.id,o=a.transaction;"false"===o.installment&&(delete o["installment"],delete o["amount_installments"]),o.amount=Qn(o.amount),a.loading.show=!0,E.post(`/users/${e}/accounts/${n}/transactions`,o).then((t=>{a.loading.show=!1,G("Sucesso!!","Transação cadastrada com sucesso").then((t=>{a.transaction.description=null,a.transaction.date=null,a.transaction.transaction_type="",a.transaction.amount=null,a.transaction.transaction_category="",a.categoryDisable=!0,a.transaction.installment="false",a.transaction.amount_installments=null,a.simulateInstallment=null,a.transaction.installment_description=null}))})).catch((t=>{a.loading.show=!1,Z("Atenção","Falha ao cadastrar transação, tente novamente ou contate o administrador")}))},to=(a,t)=>{a.loading.show=!0;let e=z.getters.userData.user_id,n=t.params.id;return E.delete(`/users/${e}/accounts/${n}/transactions/${a.transaction.id}`).then((e=>{a.loading.show=!1,G("Sucesso!!","Transação deletada com sucesso").then((e=>{e.isConfirmed&&(Xn(a,t),Jn(a,t))}))})).catch((t=>{a.loading.show=!1,Z("Atenção","Falha ao deletar transação")}))},eo=(a,t)=>{zt(t.params.id).then((t=>{a.pageTitle.title=`Transações - ${t.data.description}`,a.pageTitle.icon="fa-solid fa-receipt",a.pageTitle.subtitle="Gerencie suas transações"}))},no=(a,t)=>{null!=a.filter.range?(Jn(a,t),Xn(a,t)):Z("Atenção","Preencha o filtro de data com inicio e fim para continuar")},oo=(a,t,e)=>{if("prev"===e&&a.pagination.current_page>1)return a.pagination.current_page-=1,void Xn(a,t);if("next"===e){if(a.pagination.current_page>=a.pagination.totalPages)return;a.pagination.current_page+=1,Xn(a,t)}},io=(a,t)=>{let e=Object.getOwnPropertyNames(a.transaction);console.log(e);for(let n=0;n<e.length;n++)if("installment_description"!==e[n]){if(""===a.transaction[e[n]]||null==a.transaction[e[n]])return console.log(`ERROR: ${e[n]}`),void Z("Atenção",`Preencha o campo ${a.inputLabels[n]}`);if("installment"===e[n]&&"true"===a.transaction["installment"]&&0===a.transaction.amount_installments&&!1===a.disableInstallment)return void Z("Atenção","Numero de parcelas inválido")}t()},lo={ref:"inputRef",type:"text"};function so(a,t,e,n,i,l){return(0,o.wg)(),(0,o.iD)("input",lo,null,512)}var ro=e(7613),co={name:"CurrencyInput",props:{modelValue:Number,options:Object},setup(a){const{inputRef:t,setValue:e}=(0,ro.Er)(a.options);return(0,o.YP)((()=>a.modelValue),(a=>{e(a)})),{inputRef:t}}};const uo=(0,l.Z)(co,[["render",so]]);var po=uo;const mo=a=>E.get("/transaction-types").then((t=>{a.transactionTypes=t.data})).catch((a=>{Z("Atenção","Falha ao obter tipo de transações")})),go=a=>(a.loading.show=!0,E.get(`/transaction-categories?transaction_type_id=${a.transaction.transaction_type}`).then((t=>{a.loading.show=!1,a.transactionCategories=t.data})).catch((a=>{Z("Atenção","Falha ao listar categorias")})));var vo={components:{Modal:_e,MoneyFormat:se,Badge:ee,Loading:la,PageTitle:qa,CurrencyInput:po},setup(){let a=(0,u.yj)(),t=((0,u.tv)(),(0,k.qj)({modal:{title:"Nova Transação",icon:"",show:!1,operation:"new"},pageTitle:{title:"",subtitle:"",icon:""},filter:{open:!0,description:"",range:""},loading:{show:!1},statistics:{},pagination:{pages:[],limit:15,current_page:1,totalPages:0,totalRows:0},transactionTypes:[],transactionCategories:[],disableInstallment:!1,inputLabels:["Descrição","Nome Fatura","Data","Tipo","Valor","Categoria","Quantidade"],selectStates:{categoryDisable:!0,installmentDisable:!0},simulateInstallment:0,isInstallment:!1,transactionId:"",transaction:{description:"",installment_description:"",date:"",transaction_type:"",transaction_category:"",amount:null,installment:"false",amount_installments:0,related_installments:[]},transactions:null}));const e=()=>{Gt(t)},n=()=>{Xn(t,a)},i=e=>{oo(t,a,e)},l=e=>{t.pagination.current_page=e,Xn(t,a)},s=()=>{no(t,a)},r=()=>{t.modal.show=!0,t.modal.operation="new",t.modal.title="Nova transação",t.modal.icon="fa-solid fa-circle-plus"},c=()=>{t.modal.show=!1,t.transaction={installment_description:"",description:"",date:"",transaction_type:"",amount:null,transaction_category:"",installment:"false",amount_installments:0,related_installments:[]}},d=()=>{io(t,(()=>{"new"===t.modal.operation?ao(t,a):Et(t,a)}))},p=(e,n)=>{t.transactionId=e,Ut(t,a),t.modal.show=!0,t.modal.operation="edit",t.modal.title=`Editar - ${n}`,t.modal.icon="fa-solid fa-pen-to-square"},m=(e,n)=>{K("Confirmação",`Deseja deletar a transação ${n}?`,(()=>{t.transaction.id=e,to(t,a)}))},g=()=>{""!==t.transaction.amount_installments?t.simulateInstallment=t.transaction.amount/t.transaction.amount_installments:t.simulateInstallment=0};return(0,o.YP)((()=>t.transactions),(e=>{t.pagination.current_page>1&&0===e.length&&(t.pagination.current_page-=1,Xn(t,a)),t.pagination.pages=re(t.pagination.current_page,t.pagination.totalRows,t.pagination.limit,8)})),(0,o.YP)((()=>t.transaction.transaction_type),(a=>{if(""===a)return t.selectStates.categoryDisable=!0,void(t.transactionCategories=[]);t.selectStates.categoryDisable=!1,go(t)})),(0,o.YP)((()=>t.transaction.installment),(a=>{"true"!==a?(t.transaction.amount_installments=0,t.selectStates.installmentDisable=!0):t.selectStates.installmentDisable=!1})),(0,o.bv)((()=>{Kt(t),eo(t,a),Jn(t,a),Xn(t,a),mo(t)})),{data:t,viewOpenCloseFilter:e,viewChangeLimitPerPage:n,viewListNavigation:i,viewChangePageByPageNumber:l,viewSearchFilter:s,viewCloseModal:c,viewModalSaveData:d,viewOpenModalForm:r,viewDeleteAccountConfirmation:m,viewOpenModalEditForm:p,viewSimulateInstallmentsAmount:g,formatDateAndHour:Vt}}};const fo=(0,l.Z)(vo,[["render",Kn],["__scopeId","data-v-e2b03928"]]);var wo=fo;const _o=[{path:"/",name:"login",component:ca},{path:"/app",name:"app",redirect:"/app/modules",component:Ma,children:[{path:"/app/modules",name:"modules",component:Ra},{path:"/app/modules/:module",name:"conta_module",component:Ce},{path:"/app/modules/:module/:id/transactions",name:"transanctions_module",component:wo}]}],bo=(0,u.p7)({history:(0,u.r5)(),routes:_o});bo.beforeEach(((a,t)=>{if("login"!==a.name){let a=z.getters.userData;if(!z.getters.isAuth)return bo.push({name:"login"});if(""===a.token||!a.hasOwnProperty("token"))return bo.push({name:"login"});R(a.token).catch((a=>(z.commit("clearState"),bo.push({name:"login"}))))}}));var ho=bo,yo=(e(1800),e(3494)),Do=e(8539),Co=e(7108);yo.vI.add(Do.J9Y,Do.dLy,Do.LjC,Do.mXR,Do.Ma4,Do.KtF,Do.G_j,Do.Yai,Do.$aW,Do.wn1,Do.acZ,Do.eFW,Do.Ozh,Do.Stf,Do.Quw,Do.aLp,Do.wlW,Do.fV7,Do.xiG,Do.Yai),(0,n.ri)(c).use(z).use(ho).use(Co.ZP).component("font-awesome-icon",ka.GN).mount("#app")},2480:function(){}},t={};function e(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return a[n].call(i.exports,i,i.exports,e),i.exports}e.m=a,function(){var a=[];e.O=function(t,n,o,i){if(!n){var l=1/0;for(d=0;d<a.length;d++){n=a[d][0],o=a[d][1],i=a[d][2];for(var s=!0,r=0;r<n.length;r++)(!1&i||l>=i)&&Object.keys(e.O).every((function(a){return e.O[a](n[r])}))?n.splice(r--,1):(s=!1,i<l&&(l=i));if(s){a.splice(d--,1);var c=o();void 0!==c&&(t=c)}}return t}i=i||0;for(var d=a.length;d>0&&a[d-1][2]>i;d--)a[d]=a[d-1];a[d]=[n,o,i]}}(),function(){e.n=function(a){var t=a&&a.__esModule?function(){return a["default"]}:function(){return a};return e.d(t,{a:t}),t}}(),function(){e.d=function(a,t){for(var n in t)e.o(t,n)&&!e.o(a,n)&&Object.defineProperty(a,n,{enumerable:!0,get:t[n]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(a){if("object"===typeof window)return window}}()}(),function(){e.o=function(a,t){return Object.prototype.hasOwnProperty.call(a,t)}}(),function(){e.r=function(a){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})}}(),function(){e.p="/"}(),function(){var a={143:0};e.O.j=function(t){return 0===a[t]};var t=function(t,n){var o,i,l=n[0],s=n[1],r=n[2],c=0;if(l.some((function(t){return 0!==a[t]}))){for(o in s)e.o(s,o)&&(e.m[o]=s[o]);if(r)var d=r(e)}for(t&&t(n);c<l.length;c++)i=l[c],e.o(a,i)&&a[i]&&a[i][0](),a[i]=0;return e.O(d)},n=self["webpackChunkfront"]=self["webpackChunkfront"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=e.O(void 0,[998],(function(){return e(203)}));n=e.O(n)})();
//# sourceMappingURL=app.6a99ea15.js.map
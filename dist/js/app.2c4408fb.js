(function(){var e={4323:function(e,t,a){"use strict";var o=a(9242),n=a(3396);function i(e,t){const a=(0,n.up)("router-view");return(0,n.wg)(),(0,n.j4)(a)}var s=a(89);const l={},r=(0,s.Z)(l,[["render",i]]);var c=r,d=a(5431);(0,d.z)("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});a(7658);var u=a(2483);const p=e=>((0,n.dD)("data-v-72fe1a2c"),e=e(),(0,n.Cn)(),e),g={id:"login-view"},m={class:"container w-100 d-flex justify-content-center align-items-center"},v={class:"row"},f={class:"col-md-12"},w={class:"card px-5 py-5 login-card-custom"},h=p((()=>(0,n._)("div",{class:"col-md-12 justify-content-center"},[(0,n._)("h1",{class:"login-title"},[(0,n.Uk)("Graninha 4.0 "),(0,n._)("br"),(0,n._)("span",{class:"login-subtitle"},"Seja bem vindo, insira suas credencias para começar")])],-1))),_={class:"mb-4"},b={class:"mb-4"},y=p((()=>(0,n._)("div",{class:"mb-3"},[(0,n._)("button",{type:"submit",class:"btn btn-dark w-100 login-btn"},"Entrar")],-1))),k=p((()=>(0,n._)("div",{class:"login-footer d-flex justify-content-center"},[(0,n._)("p",null,"Graninha 4.0 - Todos os direitos reservados 2023")],-1)));function D(e,t,a,i,s,l){const r=(0,n.up)("alert"),c=(0,n.up)("loading");return(0,n.wg)(),(0,n.iD)("div",g,[(0,n._)("div",m,[(0,n._)("div",v,[(0,n._)("div",f,[(0,n._)("div",w,[h,i.data.alert.show?((0,n.wg)(),(0,n.j4)(r,{key:0,message:i.data.alert.message,"alert-type":"danger"},null,8,["message"])):(0,n.kq)("",!0),i.data.showLoading?((0,n.wg)(),(0,n.j4)(c,{key:1,message:"processando aguarde..."})):(0,n.kq)("",!0),(0,n._)("form",{onSubmit:t[2]||(t[2]=(0,o.iM)(((...e)=>i.formSubmit&&i.formSubmit(...e)),["prevent"]))},[(0,n._)("div",_,[(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>i.data.username=e),placeholder:"Digite seu usuário",class:"form-control login-input"},null,512),[[o.nr,i.data.username]])]),(0,n._)("div",b,[(0,n.wy)((0,n._)("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=e=>i.data.password=e),placeholder:"Digite sua senha",class:"form-control login-input"},null,512),[[o.nr,i.data.password]])]),y],32)]),k])])])])}var C=a(4870),S=a(7139);function x(e,t,a,o,i,s){return(0,n.wg)(),(0,n.iD)("div",{class:(0,S.C_)("alert alert-"+e.$props.alertType)},(0,S.zw)(e.$props.message),3)}var M={name:"alert",props:{alertType:{type:String,required:!0},message:{type:String,required:!0}}};const A=(0,s.Z)(M,[["render",x],["__scopeId","data-v-5f0555b0"]]);var $=A;const W=(e,t)=>{window.setTimeout(e,t)};var P=a(4161),T=a(65),j=a(5103),F=a(8082),O=a.n(F),L=a(680);const U="state",I="state",N=L.Z.get(U)||"dcefb8d7-17dd-45cd-8123-91e92b7fc52c",z=new j.ZP({storage:{getItem:()=>{const e=window.localStorage.getItem(I);if(e)try{const t=O().AES.decrypt(e,N);return JSON.parse(t.toString(O().enc.Utf8))}catch(t){window.localStorage.removeItem(I)}return null},setItem:(e,t)=>{const a=O().AES.encrypt(t,N).toString();return window.localStorage.setItem(I,a)},removeItem:()=>window.localStorage.removeItem(I)}});var q=(0,T.MT)({state:{isAuth:!1,userData:{},showWelcomeTitle:!1},getters:{isAuth(e){return e.isAuth},userData(e){return e.userData},isWelcomeTitle(e){return e.showWelcomeTitle}},mutations:{enableAuth(e){e.isAuth=!0},disabledAuth(e){e.isAuth=!1},setUserData(e,t){e.userData=t},clearState(e){e.isAuth=!1,e.userData={}},showWelcomeTitle(e){e.showWelcomeTitle=!0},hiddenWelcomeTitle(e){e.showWelcomeTitle=!1}},plugins:[z.plugin]});let Z={baseURL:"https://api.globalapps.xyz/api/v1",headers:{}};q.getters.isAuth&&(Z.headers={Authorization:`bearer ${q.getters.userData.token}`});var B=P.Z.create(Z);const G=async e=>await B.post("/auth",{username:e.username,password:e.password}),Y=e=>B.post("/check-token",{token:e});var E=a(2492),V=a.n(E);const H=(e,t)=>{V().fire({title:e,text:t,icon:"error",confirmButtonText:"Ok"})},R=(e,t)=>V().fire({title:e,allowEscapeKey:!1,allowOutsideClick:!1,text:t,icon:"success",confirmButtonText:"Ok"}),K=(e,t,a)=>{V().fire({title:e,text:t,icon:"question",showConfirmButton:!0,confirmButtonText:"Sim",showCancelButton:!0,cancelButtonText:"Não"}).then((e=>{e.isConfirmed&&a()}))},J=(e,t)=>""===e.username?(e.alert.show=!0,e.alert.message="Preencha o campo usuário",void W((()=>e.alert.show=!1),3e3)):""===e.password?(e.alert.show=!0,e.alert.message="Preencha o campo senha",void W((()=>e.alert.show=!1),3e3)):(e.showLoading=!0,void G(e).then((a=>{e.showLoading=!1,q.commit("enableAuth"),q.commit("setUserData",a.data),t.push({name:"app"})})).catch((e=>{try{H("Atencão",e.message)}catch(t){H("Atencão",t.message)}})));var Q=a.p+"img/loading.4f4a0956.gif";const X=e=>((0,n.dD)("data-v-4fb3b1c4"),e=e(),(0,n.Cn)(),e),ee={class:"loading-overlay align-items-center justify-content-center"},te=X((()=>(0,n._)("img",{src:Q,alt:"loading",class:"loading-icon"},null,-1))),ae={class:"loading-message"};function oe(e,t,a,o,i,s){return(0,n.wg)(),(0,n.iD)("div",ee,[te,(0,n._)("span",ae,(0,S.zw)(e.$props.message),1)])}var ne={name:"loading",props:{message:{type:String,required:!1}}};const ie=(0,s.Z)(ne,[["render",oe],["__scopeId","data-v-4fb3b1c4"]]);var se=ie,le={components:{Loading:se,Alert:$},setup(){let e=(0,C.qj)({username:"",password:"",showLoading:!1,alert:{show:!1,message:""}}),t=(0,u.tv)(),a=()=>{J(e,t)};return{data:e,formSubmit:a}}};const re=(0,s.Z)(le,[["render",D],["__scopeId","data-v-72fe1a2c"]]);var ce=re;const de=e=>((0,n.dD)("data-v-b1a88700"),e=e(),(0,n.Cn)(),e),ue={class:"navbar custom-navbar navbar-expand-lg navbar-light bg-light"},pe={class:"container-fluid"},ge={class:"navbar-brand",href:"#"},me=de((()=>(0,n._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,n._)("span",{class:"navbar-toggler-icon"})],-1))),ve={class:"collapse navbar-collapse",id:"navbarSupportedContent"},fe={class:"navbar-nav me-auto mb-2 mb-lg-0"},we={class:"nav-item"},he={class:"nav-item dropdown"},_e=de((()=>(0,n._)("a",{class:"nav-link dropdown-toggle",href:"#",id:"navbarDropdown",role:"button","data-bs-toggle":"dropdown","aria-expanded":"false"}," Modulos ",-1))),be={class:"dropdown-menu","aria-labelledby":"navbarDropdown"},ye={class:"nav-item"},ke={class:"container-fluid main-container"};function De(e,t,a,i,s,l){const r=(0,n.up)("font-awesome-icon"),c=(0,n.up)("router-link"),d=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("nav",ue,[(0,n._)("div",pe,[(0,n._)("a",ge,[(0,n.Wm)(r,{icon:"fa-solid fa-sack-dollar"}),(0,n.Uk)(" Graninha 4.0")]),me,(0,n._)("div",ve,[(0,n._)("ul",fe,[(0,n._)("li",we,[(0,n.Wm)(c,{to:"/app/modules",class:"nav-link active","aria-current":"page"},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{icon:"fa-solid fa-home"}),(0,n.Uk)(" Inicio")])),_:1})]),(0,n._)("li",he,[_e,(0,n._)("ul",be,[(0,n._)("li",null,[(0,n.Wm)(c,{to:"",class:"nav-link dropdown-item","aria-current":"page"},{default:(0,n.w5)((()=>[(0,n.Uk)("Dashboard")])),_:1})]),(0,n._)("li",null,[(0,n.Wm)(c,{to:"/app/modules/contas",class:"nav-link dropdown-item","aria-current":"page"},{default:(0,n.w5)((()=>[(0,n.Uk)("Contas")])),_:1})]),(0,n._)("li",null,[(0,n.Wm)(c,{to:"/app/modules/cartoes",class:"nav-link dropdown-item","aria-current":"page"},{default:(0,n.w5)((()=>[(0,n.Uk)("Cartões")])),_:1})]),(0,n._)("li",null,[(0,n.Wm)(c,{to:"/app/modules/caixa",class:"nav-link dropdown-item","aria-current":"page"},{default:(0,n.w5)((()=>[(0,n.Uk)("Caixa")])),_:1})]),(0,n._)("li",null,[(0,n.Wm)(c,{to:"",class:"nav-link dropdown-item","aria-current":"page"},{default:(0,n.w5)((()=>[(0,n.Uk)("Cofrinhos")])),_:1})])])]),(0,n._)("li",ye,[(0,n._)("a",{class:"nav-link",onClick:t[0]||(t[0]=(0,o.iM)(((...e)=>i.viewLogout&&i.viewLogout(...e)),["prevent"])),"aria-current":"page",href:"#"},[(0,n.Wm)(r,{icon:"fa-solid fa-right-from-bracket"}),(0,n.Uk)(" Sair")])])])])])]),(0,n._)("div",ke,[((0,n.wg)(),(0,n.j4)(d,{key:e.$route.params.module}))])],64)}var Ce=a(7749),Se={components:{FontAwesomeIcon:Ce.GN},setup(){let e=(0,u.tv)();const t=()=>{K("Confirmação","Deseja deslogar do sistema?",(()=>{q.commit("clearState"),e.push({name:"login"})}))};return{viewLogout:t}}};const xe=(0,s.Z)(Se,[["render",De],["__scopeId","data-v-b1a88700"]]);var Me=xe;const Ae={class:"container-fluid"},$e={class:"row row-cols-2"},We={class:"col-md-2 col-margin"},Pe=["onClick"],Te={class:"card-body flex-column d-flex align-items-center justify-content-center"},je={class:"module-name"};function Fe(e,t,a,o,i,s){const l=(0,n.up)("page-title"),r=(0,n.up)("font-awesome-icon");return(0,n.wg)(),(0,n.iD)("div",Ae,[(0,n.Wm)(l,{"page-subtitle":"Escolha um modulo para continuar","page-title":"Seja bem-vindo, Admin"}),(0,n._)("div",$e,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.moduleList,(e=>((0,n.wg)(),(0,n.iD)("div",We,[(0,n._)("div",{class:"card module-card",onClick:t=>o.openModule(e.url)},[(0,n._)("div",Te,[(0,n.Wm)(r,{class:"module-icon",icon:e.icon},null,8,["icon"]),(0,n._)("span",je,(0,S.zw)(e.title),1)])],8,Pe)])))),256))])])}const Oe=e=>((0,n.dD)("data-v-f9ba9132"),e=e(),(0,n.Cn)(),e),Le={class:"page-title"},Ue=Oe((()=>(0,n._)("br",null,null,-1))),Ie={class:"text-muted page-subtitle"};function Ne(e,t,a,o,i,s){const l=(0,n.up)("font-awesome-icon");return(0,n.wg)(),(0,n.iD)("h3",Le,[(0,n.Wm)(l,{icon:e.$props.icon},null,8,["icon"]),(0,n.Uk)(" "+(0,S.zw)(e.$props.pageTitle),1),Ue,(0,n._)("small",Ie,(0,S.zw)(e.$props.pageSubtitle),1)])}var ze={name:"page-title",components:{FontAwesomeIcon:Ce.GN},props:{pageTitle:{type:String,required:!0},pageSubtitle:{type:String,required:!0},icon:{type:String,required:!1}}};const qe=(0,s.Z)(ze,[["render",Ne],["__scopeId","data-v-f9ba9132"]]);var Ze=qe,Be={components:{PageTitle:Ze},setup(){let e=[{title:"Dashboard",icon:"fa-solid fa-chart-line",url:"dashboard"},{title:"Contas",icon:"fa-solid fa-receipt",url:"contas"},{title:"Cartões",icon:"fa-solid fa-credit-card",url:"cartoes"},{title:"Caixa",icon:"fa-solid fa-money-bill",url:"caixa"},{title:"Cofrinhos",icon:"fa-solid fa-piggy-bank",url:"cofrinho"}],t=(0,u.tv)();const a=e=>{t.push({name:"conta_module",params:{module:e}})};return{moduleList:e,openModule:a}}};const Ge=(0,s.Z)(Be,[["render",Fe],["__scopeId","data-v-58cd4734"]]);var Ye=Ge;const Ee=e=>((0,n.dD)("data-v-0600356f"),e=e(),(0,n.Cn)(),e),Ve={class:"container-fluid"},He={class:"alert alert-primary statistic-container"},Re={class:"row row-cols-2"},Ke={class:"col-md-2 statistic-columns"},Je=Ee((()=>(0,n._)("h4",{class:"tipo-transacao-label"},"Saldo total",-1))),Qe={class:"page-action"},Xe={class:"show-per-page"},et=(0,n.uE)('<option value="5" data-v-0600356f>5</option><option value="10" data-v-0600356f>10</option><option value="15" data-v-0600356f>15</option><option value="50" data-v-0600356f>50</option><option value="100" data-v-0600356f>100</option>',5),tt=[et],at={key:1,class:"filter-body"},ot={class:"row row-cols-1"},nt={class:"col-md-6"},it=Ee((()=>(0,n._)("label",{class:"form-label"},"Descrição",-1))),st={class:"input-group"},lt={class:"col-md-4"},rt=Ee((()=>(0,n._)("label",{class:"form-label"},"Data",-1))),ct={class:"calendar-content d-flex"},dt={class:"d-flex"},ut=["value"],pt=Ee((()=>(0,n._)("span",{style:{padding:"10px"}},"até",-1))),gt=["value"],mt={class:"table table-striped page-table"},vt=Ee((()=>(0,n._)("thead",{class:"page-table-header"},[(0,n._)("tr",null,[(0,n._)("td",null,"Descrição"),(0,n._)("td",null,"Saldo"),(0,n._)("td",null,"Ultima atualização"),(0,n._)("td")])],-1))),ft={class:"page-table-body"},wt={"data-title":"Descrição"},ht={"data-title":"Saldo"},_t={"data-title":"Ultima atualização"},bt={class:"table-actions d-flex"},yt={type:"button",class:"btn btn-primary app-button"},kt=["onClick"],Dt={class:"row"},Ct={class:"col-12"},St={"aria-label":"Page navigation example"},xt={class:"pagination"},Mt={class:"page-item"},At={class:"page-item"},$t={key:0,class:"page-link"},Wt=["onClick"],Pt={class:"page-item"},Tt={class:"container-fluid"},jt={class:"row"},Ft={class:"col-md-12"},Ot=Ee((()=>(0,n._)("label",{class:"form-label"},"Descrição",-1)));function Lt(e,t,a,i,s,l){const r=(0,n.up)("page-title"),c=(0,n.up)("loading"),d=(0,n.up)("money-format"),u=(0,n.up)("font-awesome-icon"),p=(0,n.up)("v-date-picker"),g=(0,n.up)("modal");return(0,n.wg)(),(0,n.iD)("div",Ve,[(0,n.Wm)(r,{"page-subtitle":i.data.pageTitle.subtitle,"page-title":i.data.pageTitle.title,icon:i.data.pageTitle.icon},null,8,["page-subtitle","page-title","icon"]),i.data.loading.show?((0,n.wg)(),(0,n.j4)(c,{key:0,message:"Processando aguarde..."})):(0,n.kq)("",!0),(0,n._)("div",He,[(0,n._)("div",Re,[(0,n._)("div",Ke,[Je,(0,n._)("span",null,[(0,n.Wm)(d,{value:i.totalAmountAccounts},null,8,["value"])])])])]),(0,n._)("div",Qe,[(0,n._)("button",{class:"btn btn-primary app-button",onClick:t[0]||(t[0]=(...e)=>i.viewOpenModalForm&&i.viewOpenModalForm(...e)),type:"button"},[(0,n.Wm)(u,{icon:"fa-solid fa-circle-plus"})]),(0,n._)("button",{class:"btn btn-secondary app-button",onClick:t[1]||(t[1]=(...e)=>i.viewOpenCloseFilter&&i.viewOpenCloseFilter(...e)),type:"button"},[(0,n.Wm)(u,{icon:"fa-solid fa-filter"})]),(0,n._)("div",Xe,[(0,n.wy)((0,n._)("select",{class:"form-select show-pages",onChange:t[2]||(t[2]=(...e)=>i.viewChangeLimitPerPage&&i.viewChangeLimitPerPage(...e)),"onUpdate:modelValue":t[3]||(t[3]=e=>i.data.pagination.limit=e)},tt,544),[[o.bM,i.data.pagination.limit]])])]),i.data.filter.open?((0,n.wg)(),(0,n.iD)("div",at,[(0,n._)("div",ot,[(0,n._)("div",nt,[it,(0,n._)("div",st,[(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=e=>i.data.filter.description=e),class:"form-control"},null,512),[[o.nr,i.data.filter.description]])])]),(0,n._)("div",lt,[rt,(0,n._)("div",ct,[(0,n.Wm)(p,{mode:"date",modelValue:i.data.filter.range,"onUpdate:modelValue":t[5]||(t[5]=e=>i.data.filter.range=e),"is-range":""},{default:(0,n.w5)((({inputValue:e,inputEvents:t,isDragging:a})=>[(0,n._)("div",dt,[(0,n._)("input",(0,n.dG)({class:"form-control",value:e.start},(0,n.mx)(t.start,!0)),null,16,ut),pt,(0,n._)("input",(0,n.dG)({disabled:"",style:{"margin-right":"10px"},class:"form-control",value:e.end},(0,n.mx)(t.end,!0)),null,16,gt)])])),_:1},8,["modelValue"]),(0,n._)("button",{type:"button",onClick:t[6]||(t[6]=(...e)=>i.viewSearchFilter&&i.viewSearchFilter(...e)),class:"btn btn-primary app-button"},[(0,n.Wm)(u,{icon:"fa-solid fa-search"})])])])])])):(0,n.kq)("",!0),(0,n._)("table",mt,[vt,(0,n._)("tbody",ft,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.data.accounts,(e=>((0,n.wg)(),(0,n.iD)("tr",null,[(0,n._)("td",wt,(0,S.zw)(e.description),1),(0,n._)("td",ht,[(0,n.Wm)(d,{value:e.amount},null,8,["value"])]),(0,n._)("td",_t,(0,S.zw)(i.formatDateAndHour(e.updated_at)),1),(0,n._)("td",null,[(0,n._)("div",bt,[(0,n._)("button",yt,[(0,n.Wm)(u,{icon:"fa-solid fa-pen-to-square"})]),(0,n._)("button",{type:"button",onClick:t=>i.viewDeleteAccountConfirmation(e.id,e.description),class:"btn btn-outline-danger"},[(0,n.Wm)(u,{icon:"fa-solid fa-trash"})],8,kt)])])])))),256))])]),(0,n._)("div",Dt,[(0,n._)("div",Ct,[(0,n._)("nav",St,[(0,n._)("ul",xt,[(0,n._)("li",Mt,[(0,n._)("a",{onClick:t[7]||(t[7]=(0,o.iM)((e=>i.viewListNavigation("prev")),["prevent"])),class:"page-link",href:"#"},"Anterior")]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(i.data.pagination.pages,(e=>((0,n.wg)(),(0,n.iD)("li",At,["..."===e?((0,n.wg)(),(0,n.iD)("span",$t,"...")):((0,n.wg)(),(0,n.iD)("a",{key:1,onClick:(0,o.iM)((t=>i.viewChangePageByPageNumber(e)),["prevent"]),class:(0,S.C_)(["page-link",{active:i.data.pagination.current_page===e}]),href:"#"},(0,S.zw)(e),11,Wt))])))),256)),(0,n._)("li",Pt,[(0,n._)("a",{onClick:t[8]||(t[8]=(0,o.iM)((e=>i.viewListNavigation("next")),["prevent"])),class:"page-link",href:"#"},"Proximo")])])])])]),i.data.modal.show?((0,n.wg)(),(0,n.j4)(g,{key:2,onCloseModal:i.viewCloseModal,onSaveData:i.viewModalSaveData,title:i.data.modal.title,icon:i.data.modal.icon},{default:(0,n.w5)((()=>[(0,n._)("div",Tt,[(0,n._)("div",jt,[(0,n._)("div",Ft,[Ot,(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":t[9]||(t[9]=e=>i.data.account.description=e),class:"form-control",placeholder:"Digite uma descrição"},null,512),[[o.nr,i.data.account.description]])])])])])),_:1},8,["onCloseModal","onSaveData","title","icon"])):(0,n.kq)("",!0)])}const Ut=e=>{let t=new Date(e),a=t.getDate()<10?"0"+t.getDate():t.getDate(),o=t.getMonth()<10?"0"+(t.getMonth()+1):t.getMonth()+1,n=t.getFullYear(),i=t.getHours()<10?"0"+t.getHours():t.getHours(),s=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes();return`${a}/${o}/${n} ${i}:${s}`},It=e=>{let t=new Date(e),a=t.getDate()<10?"0"+t.getDate():t.getDate(),o=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,n=t.getFullYear();return`${n}-${o}-${a}`},Nt=(e,t)=>{let a=q.getters.userData.user_id,o=t.params.module;e.loading.show=!0;let n=Bt(a,"accounts",e,o);B.get(n).then((t=>{e.loading.show=!1,e.pagination.current_page=t.data.current_page,e.pagination.totalPages=t.data.total_pages,e.pagination.totalRows=t.data.total_rows,e.accounts=t.data.items})).catch((t=>{e.loading.show=!1,H("Atenção","Falha ao obter lista de dados")}))},zt=(e,t)=>{let a=q.getters.userData.user_id;e.loading.show=!0,B.post(`/users/${a}/accounts`,e.account).then((a=>{e.loading.show=!1,R("Sucesso!","Conta cadastrada com sucesso").then((a=>{a.isConfirmed&&(Nt(e,t),e.account.description="",e.modal.show=!1)}))})).catch((t=>{e.loading.show=!1,H("Atenção","Falha ao salvar conta, tente novamente ou contate o administrador")}))},qt=(e,t)=>{let a=q.getters.userData.user_id;e.loading.show=!0,B.delete(`/users/${a}/accounts/${e.account.id}`).then((a=>{R("Sucesso!","Conta deletada com sucesso").then((a=>{a.isConfirmed&&(e.account.id="",Nt(e,t))}))})).catch((e=>{H("Atenção","Falha ao deletar conta, tente novamente ou contate o adminstrador.")}))},Zt=(e,t)=>{let a=q.getters.userData.user_id,o=t.params.module,n=Bt(a,"accounts/statistics",e,o);B.get(n).then((t=>{V().close(),e.statistics=t.data})).catch((e=>{H("Atenção",e.response.data.message)}))};function Bt(e,t,a,o){let n=`/users/${e}/${t}?limit=${a.pagination.limit}&page=${a.pagination.current_page}`;return null!=a.filter.description&&(n=n.concat(`&description=${a.filter.description}`)),"contas"===o&&(n=n.concat("&account_types[]=conta_corrente")),"cartoes"===o&&(n=n.concat("&account_types[]=cartao_credito")),"caixa"===o&&(n=n.concat("&account_types[]=caixa")),n.concat(`&initial_date=${It(a.filter.range.start)}&end_date=${It(a.filter.range.end)}`)}const Gt=(e,t)=>{let a=t.params.module;"contas"===a&&(e.pageTitle={title:"Contas",subtitle:"Gerencie suas contas",icon:"fa-solid fa-receipt"}),"cartoes"===a&&(e.pageTitle={title:"Cartões",subtitle:"Gerencie seus cartões",icon:"fa-solid fa-credit-card"}),"caixa"===a&&(e.pageTitle={title:"Caixa",subtitle:"Gerencie seu caixa mensal",icon:"fa-solid fa-money-bill"})},Yt=(e,t)=>{let a=t.params.module;"contas"===a&&(e.modal.title="Nova conta",e.modal.icon="fa-solid fa-circle-plus"),"cartoes"===a&&(e.modal={title:"Novo cartão",icon:"fa-solid fa-circle-plus"}),"caixa"===a&&(e.modal={title:"Novo caixa",icon:"fa-solid fa-circle-plus"})},Et=e=>{e.filter.open?e.filter.open=!1:e.filter.open=!0},Vt=e=>{const t=new Date;e.filter.range={start:new Date(t.getFullYear(),t.getMonth(),1),end:new Date(t.getFullYear(),t.getMonth()+1,0)}},Ht=(e,t,a)=>{if("prev"===a&&e.pagination.current_page>1)return e.pagination.current_page-=1,void Nt(e,t);if("next"===a){if(e.pagination.current_page>=e.pagination.totalPages)return;e.pagination.current_page+=1,Nt(e,t)}},Rt=(e,t)=>{null!=e.filter.range?(Zt(e,t),Nt(e,t)):H("Atenção","Preencha o filtro de data com inicio e fim para continuar")};function Kt(e,t,a,o,i,s){return(0,n.wg)(),(0,n.iD)("span",{class:"badge rounded-pill text-bg-primary",style:(0,S.j5)(`background:${e.$props.color}!important`)},(0,S.zw)(e.$props.text),5)}var Jt={name:"badge",props:["color","text"]};const Qt=(0,s.Z)(Jt,[["render",Kt]]);var Xt=Qt;function ea(e,t,a,o,i,s){return(0,n.wg)(),(0,n.iD)("span",{class:(0,S.C_)({positive:o.isPositiveOrNegative,negative:!o.isPositiveOrNegative})},(0,S.zw)(o.formatMoneyBRL(e.$props.value)),3)}const ta=e=>e.toLocaleString("pt-BR",{style:"currency",currency:"BRL"});var aa={name:"money-format",props:["value"],setup(e){const t=(0,n.Fl)((()=>e.value>=0));return{isPositiveOrNegative:t,formatMoneyBRL:ta}}};const oa=(0,s.Z)(aa,[["render",ea],["__scopeId","data-v-6f191cc8"]]);var na=oa;const ia=(e,t,a,o)=>{let n,i=[],s=Math.ceil(t/a),l=Math.ceil(o/2);n=e<=l?"start":s-l<e?"end":"middle";let r=o<s,c=1;while(c<=s&&c<=o){let t=sa(c,e,o,s),a=2===c&&("middle"===n||"end"===n),l=c===o-1&&("middle"===n||"start"===n);r&&(a||l)?i.push("..."):i.push(t),c++}return i},sa=(e,t,a,o)=>{var n=Math.ceil(a/2);return e===a?o:1===e?e:a<o?o-n<t?o-a+e:n<t?t-n+e:e:e},la={class:"app-modal-backdrop"},ra={class:"app-modal-content container-fluid"},ca={class:"app-modal-header"},da={class:"app-modal-body"},ua={class:"app-modal-footer d-flex justify-content-end"};function pa(e,t,a,o,i,s){const l=(0,n.up)("font-awesome-icon");return(0,n.wg)(),(0,n.iD)("div",la,[(0,n._)("div",ra,[(0,n._)("div",ca,[(0,n._)("h3",null,[(0,n.Wm)(l,{icon:e.$props.icon},null,8,["icon"]),(0,n.Uk)(" "+(0,S.zw)(e.$props.title),1)])]),(0,n._)("div",da,[(0,n.WI)(e.$slots,"default",{},void 0,!0)]),(0,n._)("div",ua,[(0,n._)("button",{type:"button",onClick:t[0]||(t[0]=(...e)=>o.viewCancel&&o.viewCancel(...e)),class:"btn btn-secondary"},"Cancelar"),(0,n._)("button",{type:"button",onClick:t[1]||(t[1]=(...e)=>o.viewSave&&o.viewSave(...e)),class:"btn btn-primary app-button"},"Salvar")])])])}var ga={name:"modal",components:{FontAwesomeIcon:Ce.GN},props:["title","icon"],setup(e,t){const a=()=>{t.emit("close-modal")},o=()=>{t.emit("save-data")};return{viewCancel:a,viewSave:o}}};const ma=(0,s.Z)(ga,[["render",pa],["__scopeId","data-v-35cc55b4"]]);var va=ma;const fa=(e,t)=>{let a=t.params.module;B.get("/account-types").then((t=>{let o=t.data.filter((e=>e.slug_name===wa(a)));e.account.account_type_id=o[0].id})).catch((e=>{H("Atenção","Falha ao obter tipos de contas")}))},wa=e=>"contas"===e?"conta_corrente":"cartoes"===e?"cartao_credito":"caixa"===e?"caixa":void 0;var ha={components:{Modal:va,MoneyFormat:na,Badge:Xt,Loading:se,PageTitle:Ze},setup(){let e=(0,u.yj)(),t=(0,u.tv)(),a=(0,C.qj)({modal:{title:"Nova Conta",icon:"",show:!1},pageTitle:{title:"",subtitle:"",icon:""},filter:{open:!0,description:"",range:""},loading:{show:!1},statistics:{},pagination:{pages:[],limit:15,current_page:1,totalPages:0,totalRows:0},account:{id:"",description:"",account_type_id:""},accounts:null});const o=()=>{Et(a)},i=()=>{Nt(a,e)},s=t=>{Ht(a,e,t)},l=t=>{a.pagination.current_page=t,Nt(a,e)},r=()=>{Rt(a,e)},c=()=>{Yt(a,e),a.modal.show=!0},d=()=>{a.modal.show=!1},p=()=>{zt(a,e,t)},g=(t,o)=>{K("Confirmação",`Deseja deletar a conta ${o}?`,(()=>{a.account.id=t,qt(a,e)}))},m=(0,n.Fl)((()=>a.statistics.period_amount/100));return(0,n.YP)((()=>a.accounts),(t=>{a.pagination.current_page>1&&0===t.length&&(a.pagination.current_page-=1,Nt(a,e)),a.pagination.pages=ia(a.pagination.current_page,a.pagination.totalRows,a.pagination.limit,8)})),(0,n.bv)((()=>{Gt(a,e),Vt(a),Nt(a,e),Zt(a,e),fa(a,e)})),{data:a,viewOpenCloseFilter:o,viewChangeLimitPerPage:i,viewListNavigation:s,viewChangePageByPageNumber:l,viewSearchFilter:r,viewCloseModal:d,viewModalSaveData:p,viewOpenModalForm:c,viewDeleteAccountConfirmation:g,formatDateAndHour:Ut,totalAmountAccounts:m}}};const _a=(0,s.Z)(ha,[["render",Lt],["__scopeId","data-v-0600356f"]]);var ba=_a;const ya=[{path:"/",name:"login",component:ce},{path:"/app",name:"app",redirect:"/app/modules",component:Me,children:[{path:"/app/modules",name:"modules",component:Ye},{path:"/app/modules/:module",name:"conta_module",component:ba}]}],ka=(0,u.p7)({history:(0,u.r5)(),routes:ya});ka.beforeEach(((e,t)=>{if("login"!==e.name){let e=q.getters.userData;if(!q.getters.isAuth)return ka.push({name:"login"});if(""===e.token||!e.hasOwnProperty("token"))return ka.push({name:"login"});Y(e.token).catch((e=>(q.commit("clearState"),ka.push({name:"login"}))))}}));var Da=ka,Ca=(a(1800),a(3494)),Sa=a(8539),xa=a(7108);Ca.vI.add(Sa.J9Y,Sa.dLy,Sa.LjC,Sa.mXR,Sa.Ma4,Sa.KtF,Sa.G_j,Sa.Yai,Sa.$aW,Sa.wn1,Sa.acZ,Sa.eFW,Sa.Ozh,Sa.Stf,Sa.Quw,Sa.aLp,Sa.wlW,Sa.fV7,Sa.xiG),(0,o.ri)(c).use(q).use(Da).use(xa.ZP).component("font-awesome-icon",Ce.GN).mount("#app")},2480:function(){}},t={};function a(o){var n=t[o];if(void 0!==n)return n.exports;var i=t[o]={exports:{}};return e[o].call(i.exports,i,i.exports,a),i.exports}a.m=e,function(){var e=[];a.O=function(t,o,n,i){if(!o){var s=1/0;for(d=0;d<e.length;d++){o=e[d][0],n=e[d][1],i=e[d][2];for(var l=!0,r=0;r<o.length;r++)(!1&i||s>=i)&&Object.keys(a.O).every((function(e){return a.O[e](o[r])}))?o.splice(r--,1):(l=!1,i<s&&(s=i));if(l){e.splice(d--,1);var c=n();void 0!==c&&(t=c)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[o,n,i]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,o){var n,i,s=o[0],l=o[1],r=o[2],c=0;if(s.some((function(t){return 0!==e[t]}))){for(n in l)a.o(l,n)&&(a.m[n]=l[n]);if(r)var d=r(a)}for(t&&t(o);c<s.length;c++)i=s[c],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(d)},o=self["webpackChunkfront"]=self["webpackChunkfront"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=a.O(void 0,[998],(function(){return a(4323)}));o=a.O(o)})();
//# sourceMappingURL=app.2c4408fb.js.map